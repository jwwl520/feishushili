"use strict";(self.webpackChunkbear_fe=self.webpackChunkbear_fe||[]).push([[36932],{768133:(e,n)=>{var t="";function i(e){return(Array(4).join("0")+parseInt(e,2).toString(16)).slice(-4)}function o(e){if(!e)return"00000000000000000000000000000000";var n=e.split(/\./).map((function(e){return n=e,(Array(8).join("0")+parseInt(n,10).toString(2)).slice(-8);var n})),t=[];return t[0]=i(n[0]+n[1]),t[1]=i(n[2]+n[3]),["0000","0000","0000","0000","0000","ffff",t[0],t[1]].join("")}n.M=function(e){var n=""+Date.now(),i="";return e?(i=o(e),t=i):i=t||(t=o(function(){for(var e=[],n=0;n<4;n++)e.push(Math.floor(256*Math.random()));return e.join(".")}())),"02"+n+i+Math.random().toString(16).slice(-6)}},124159:(e,n,t)=>{t.r(n),t.d(n,{DOC_APP_ID:()=>i,FEED_SCENE:()=>u,GROUP_SCENE:()=>d,MS_SCENE:()=>h,MULTIPAGE_SCENE:()=>l,OPEN_SCENE:()=>m,QUERY_FILTER:()=>f,SCENE:()=>c,browser:()=>U,default:()=>U});var i,o,s=t(77034),r=t.n(s),a=function(e,n){return n=new RegExp("(iPhone\\s"+n+")"),!!e.match(n)},c={Web:"web",Feed:"feed",Group:"group",MultiPage:"multi_page",MS:"ms",Open:"open",Agenda:"agenda"},u={Tab:"tab"},d={Announce:"announce"},l={MeetingNotes:"meeting_notes",ChatTab:"chat_tab",Message:"message",Other:"other"},h={Device:"device",Room:"room"},m={Webapp:"webapp",Miniprogram:"miniprogram"},f=["open_type","lark","sourceType","last_doc_message_id","feed_id","contentTheme","theme","useNewLarklet","scene","sub_scene","chatTab","useIframe","multiPage"];function w(){return function(e){try{return JSON.parse('{"'+decodeURI(e).replace(/^\?/g,"").replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}catch(e){return{}}}("undefined"!=typeof window?window.location.search:"")}function p(e){return function(n,t,i){return n=(n=n||function(){var e="undefined"!=typeof window,n=e&&window.navigator||{};return e&&(window.User&&window.User.userAgent||n.userAgent)||""}()||"").toLowerCase(),e(n,t||w(),i)}}function g(e,n){return"undefined"!=typeof window&&"string"==typeof window.larkTabName?window.larkTabName:n.larkTabName||""}function b(e,n){var t,i=n.scene,o=void 0===(n=n.sub_scene)?"":n;switch(void 0===i?"":i){case c.Feed:t={scene:c.Feed,subScene:u.Tab};break;case c.Group:t={scene:c.Group,subScene:d.Announce};break;case c.MultiPage:t={scene:c.MultiPage,subScene:o};break;case c.MS:t={scene:c.MS,subScene:o};break;case c.Agenda:t={scene:c.Agenda,subScene:o};break;default:t={scene:c.Web,subScene:""}}return e.includes("miniprogram/feed")?{scene:c.Open,subScene:m.Miniprogram}:t}function T(e,n,t){var i=void 0===(i=n.scene_id)?"":i,o=(n=void 0===(n=n.doc_app_id)?"":n,"");t=t&&t.pathname||"undefined"!=typeof window&&window.location&&window.location.pathname;return/^\/sync\//.test(t||"")&&(o="601"),{docAppId:n||i||o||""}}function L(e,n){return e.includes("superapp")&&!g(0,n)&&!v()}function v(){var e="undefined"!=typeof window?window.User:void 0;return!!e&&!!e.isFeedEnv}(o=i=i||{}).VC_AGENDA="101",o.ROOMS_AGENDA="201",o.CALENDAR_AGENDA="301",o.IM_GROUP="401",o.IM_FEED="402",o.IM_CHAT="403",o.WHITE_BOARD="501",o.ALONE_SYNCEDBLOCK="601",o.IMCHAT_SYNCEDBLOCK="602",o.TASKLISTBLOCK="701",o.APP_RELATE_DOC="801",o.BASE="901";var k,I,S,C={getLarkVersion:p((function(e,n){return(e=e.match(/Lark\/([0-9.]+)/i))&&2<=e.length?e[1]:""})),getLarkTabName:p(g),getScene:p(b),getDocComponent:p(T),getDocComponentHeader:p((function(e,n,t){var i={},o=void 0===(o=(s=b(e,n)).scene)?"":o,s=void 0===(s=s.subScene)?"":s;return n=void 0===(e=T(0,n,t).docAppId)?"":e,o&&(i["ccm-scene"]=o),s&&(i["ccm-sub-scene"]=s),n&&(i["doc-component-app"]=n),i})),isFromFeed:p((function(e,n){if(L(e,n)){if(n.scene)return b(e,n).scene===c.Feed}else if(n.scene&&"1"===n.lark)return b(e,n).scene===c.Feed;return"1"===n.lark&&!n.chatTab})),isFromOpenPlatformMini:p((function(e,n){return(e=b(e,n)).scene===c.Open&&e.subScene===m.Miniprogram})),isFromMeetings:p((function(e,n){return n.scene&&"1"===n.lark?(e=b(e,n)).scene===c.MultiPage&&e.subScene===l.MeetingNotes:"3"===n.lark||"meeting_notes"===n.open_type})),isFromChatTab:p((function(e,n){return n.scene&&"1"===n.lark?(e=b(e,n)).scene===c.MultiPage&&e.subScene===l.ChatTab:"1"===n.lark&&"1"===n.chatTab&&"announce"!==n.open_type})),isFromGroup:p((function(e,n){return n.scene?(e=b(e,n)).scene===c.Group&&e.subScene===d.Announce:"announce"===n.open_type})),isFromMessage:p((function(e,n){return!(!n.scene||"1"!==n.lark)&&(e=b(e,n)).scene===c.MultiPage&&e.subScene===l.Message})),isFromMultiPage:p((function(e,n){return n.scene&&"1"===n.lark?b(e,n).scene===c.MultiPage:"1"===n.multiPage&&"1"===n.lark})),isFromSuperApp:p(L),isFromIE:p((function(e){return e.includes("msie")||e.includes("trident")})),isFromMobile:p((function(e){return e.includes("docs")||e.includes("mobile")||e.includes("jike/")||e.includes("iphone")})),isFromMobileIPad:p((function(e){return e.includes("ipad")&&e.includes("docssdk")})),isFromIPad:p((function(e){return e.includes("ipad")})),isFromMSLark:p((function(e,n){return!(!e.includes("ironwebview")&&!e.includes("apollyon"))&&(n.scene?(e=b(e,n)).scene===c.MS&&e.subScene===h.Device:"true"===n.vc&&"1"===n.hideHeader)})),isFromMSWeb:p((function(e,n){return"true"===n.vc&&"1"===n.hideHeader})),isFromMSServer:p((function(e,n){return"true"===n.vc&&"1"===n.hideHeader&&(e.includes("feishurooms server")||e.includes("larkrooms server"))})),isFromMSRooms:p((function(e,n){return!(!e.includes("feishurooms")&&!e.includes("larkrooms"))&&(n.scene?(e=b(e,n)).scene===c.MS&&e.subScene===h.Room:"true"===n.vc&&"1"===n.hideHeader)})),isFeedPrefetch:p((function(e){return e.includes("larkfeed/prefetch")})),isDocComponent:p((function(e,n,t){return n=n.doc_app_id||n.scene_id,t=t&&t.pathname||"undefined"!=typeof window&&window.location&&window.location.pathname,!isNaN(parseInt(n))||/^\/sync\//.test(t||"")})),isLarkTemplate:v,getQueryFilter:function(){return f}},M="undefined"!=typeof window,E=M&&window.navigator||{},A=(M&&(k=window.User&&window.User.userAgent,I=E.userAgent,S=/superapp/i,k&&I&&S.test(I)&&!S.test(k)&&(window.User.userAgent+=" SuperApp")),M&&(window.User&&window.User.userAgent||E.userAgent)||""),_=function(e){var n="undefined"!=typeof window;try{return n?window.sessionStorage.getItem(e):null}catch(e){}return null}("__ENTER_FROM__")||"",P=M?window.location:{},D=M?window.larkTabName:"",y=r().detect(A),F=function(e,n,t){var i,o=void 0===(o=(t=t||{}).from)?"":o,s=void 0===(s=t.larkTabName)?"":s,r=void 0===(r=t.user)?{}:r,c=void 0===(c=t.location)?{search:"",pathname:""}:c,u=void 0===(u=t.navigator)?{}:u,d=(t=void 0===(t=t.wxJsEnvironment)?"":t,e);(e={isFeishu:!1,isLark:!1,isLarkPcTab:!1,isLarkWindow:!1,isLKP:!1,isDocs:!1,isDocsSDK:!1,isFeed:!1,isOpenDoc:!1,isIphoneX:!1,isIPhoneX:!1,isIPad:!1,isMobile:!1,isMac:!1,isWindows:!1,isSafari:!1,isIE:!1,isIECompatibleMode:!1,isSougou:!1,isIOS:!1,isAndroid:!1,isQQ:!1,isWechat:!1,isWeibo:!1,isToutiao:!1,isX5:!1,is360:!1,is360Fast:!1,isUc:!1,isBaiDu:!1,isLB:!1,oldIE:!1,modernIE:!1,kernel:"",isLarkTab:!1,isOldLarkTab:!1,isEdge:!1,isFF:!1,isChrome:!1,isWebKit:!1,isBytedanceApp:!1,isIPhoneSeries:function(){return!1},isPrimaryChrome:!1,isOpera:!1,is2345:!1,isMaxthon:!1,isTheWorld:!1,isLarkPhone:!1,isInVC:!1,isFeishuRooms:!1,isFeishuRoomsServer:!1,isVCWebview:!1,isOpendoc:!1,isWxMp:!1,isDocApp:!1,isH5:!1,isPcWeb:!1,isVulcan:!1,isLarkWebPage:!1,isLarkPureWebPage:!1,isLarkWebApp:!1,isInIframe:!1}).isFeishu=/feishu/i.test(d),e.isLark=e.isFeishu||/lark/i.test(d),e.isLarkPcTab=e.isLark&&("lark.tab"===o||Boolean(s)||/TYPE\/PC_TAB/i.test(d)),e.isLarkWindow=e.isLark&&"lark.window"===o,e.isLKP=/LKP_EMBED_LARK/i.test(d),e.isDocs=/Docs/i.test(d),e.isDocsSDK=e.isLark&&e.isDocs,e.isFeed=!!r.isFeedEnv,e.isOpenDoc=/lark=2/.test(c.search||"")||e.isFeed&&/open_type=announce/.test(c.search||""),e.isIphoneX=function(e){return a(e,"X")}(d),e.isIPhoneX=e.isIphoneX,e.isIPad=/iPad/i.test(d)||function(e,n){return!!(n.maxTouchPoints&&2<n.maxTouchPoints&&/Macintosh/.test(e)&&/MacIntel/.test(n.platform||""))}(d,u),e.isMobile=n.mobile,e.isMac=n.mac,e.isWindows=!!n.windows,e.isWechat=/MicroMessenger/i.test(d),e.isSafari=n.safari&&!e.isWechat,e.isIE=n.msie||n.msedge,e.isIECompatibleMode=/Trident/i.test(d),e.isSougou=/MetaSr/i.test(d),e.isIOS=!!d.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),e.isAndroid=-1<d.indexOf("Android")||-1<d.indexOf("Adr"),e.isQQ=/QQBrowser/i.test(d),e.isX5=/MQQBrowser/i.test(d),e.isWeibo=/WeiBo/i.test(d),e.isToutiao=/newsarticle/i.test(d),e.is360=/360SE/i.test(d),e.is360Fast=/360EE/i.test(d),e.isUc=/UBrowser/i.test(d),e.isBaiDu=/BIDUBrowser/i.test(d),e.is2345=/2345Explorer/i.test(d),e.isMaxthon=/Maxthon/i.test(d),e.isTheWorld=/TheWorld/i.test(d),e.isDocApp=/LarkDocs/i.test(d),e.isWxMp=/miniprogram/i.test(d)||"miniprogram"===t,e.isLB=/LBBROWSER/i.test(d),e.isEdge=/Edg/i.test(d),e.isFF=/Firefox/i.test(d),e.isOpera=/OPR/i.test(d),e.isWebKit=/AppleWebKit/i.test(d),e.isChrome="chrome"===n.name.toLocaleLowerCase(),e.isLarkPhone=/LKPDesktop/i.test(d),e.isVulcan=/Vulcan/i.test(d),e.isInVC=/vc=true/.test((c.search||"").toLowerCase())||e.isLark&&/\sVC\//.test(d),e.isFeishuRooms=/FeishuRooms|LarkRooms/i.test(d),e.isFeishuRoomsServer=/(Feishu|Lark)Rooms\sServer/i.test(d),e.isVCWebview=/IronWebview/i.test(d),e.isPrimaryChrome=e.isChrome&&!e.isOpera&&!e.isLB&&!e.isUc&&!e.isBaiDu&&!e.is360&&!e.is360Fast&&!e.isQQ&&!e.isSougou&&!e.isEdge&&!e.is2345&&!e.isTheWorld&&!e.isMaxthon,e.isLarkWebApp=e.isLark&&/WebApp/i.test(d),e.isLarkPureWebPage=e.isLark&&/WebPage/i.test(d),e.isLarkWebPage=e.isLarkPureWebPage||e.isLarkWebApp,n.msie&&(s=parseInt(String(n.version),10),e.oldIE=s<11,e.modernIE=11<=s),e.isSougou&&(e.name="sougou",i=/SE (\w*.\w*)\s/.exec(d),e.version=i&&i[1]||n.version),e.isQQ&&(e.name="qq",i=d.replace(/^.*QQBrowser\/([\d.]+).*$/,"$1"),e.version=String(parseFloat(i))),e.is360&&(e.name="360"),e.is360Fast&&(e.name="360fast"),e.isLB&&(e.name="liebao"),e.isUc&&(e.name="uc"),e.isBaiDu&&(e.name="baidu"),e.isMaxthon&&(e.name="Maxthon"),e.isVulcan&&(e.name="Vulcan"),e.kernel=["msie","webkit","blink","gecko","msedge","tablet","mobile"].find((function(e){return n[e]})),e.isLarkTab=/from\/(old_)?lark_tab/i.test(d),e.isOldLarkTab=/from\/old_lark_tab/i.test(d),o=e.isLark||e.isDocs;return e.isBytedanceApp=o,e.isInIframe=window.self!==window.top,e.isOpendoc=(/opendoc=(true|1)/.test((c.search||"").toLowerCase())||/^\/component\//.test(c.pathname||""))&&e.isInIframe,e.isH5=e.isMobile&&!e.isLark&&!e.isFeishu&&!e.isDocApp,e.isPcWeb=!e.isMobile&&!e.isLark&&!e.isFeishu,e.isIPhoneSeries=function(e){return a(d,e)},e}(A,y,{from:_,larkTabName:D,user:M?window.User:void 0,navigator:E,location:P,wxJsEnvironment:M?window.__wxjs_environment:""}),O=Object.assign({},y,F,C),R=O.isIPhoneX,U=(Object.defineProperty(O,"isIphoneX",{get:function(){return R}}),O)},318218:(e,n,t)=>{t.r(n),t.d(n,{ContentThemeMediaQuery:()=>r,ContentThemeType:()=>o,ThemeConsumer:()=>ge,ThemeContext:()=>ae,ThemeMediaQuery:()=>s,ThemeProvider:()=>pe,ThemeType:()=>i,ThemeWrapper:()=>be,changeTheme:()=>me,emitStateChange:()=>R,getContentUITheme:()=>J,getCurrentThemeType:()=>ce,getGlobalThemeSetting:()=>V,getGlobalUITheme:()=>$,getLarkContentThemeSetting:()=>X,getNativeUIState:()=>y,getThemeValue:()=>de,getUIState:()=>F,initTheme:()=>we,isListenToSystem:()=>le,isSupportTheme:()=>E,isUrlWithTheme:()=>P,listenChangeTheme:()=>fe,listenToContentThemeChange:()=>ee,onMobileLarkUIStateChange:()=>W,onPCLarkContentThemeStateChange:()=>H,onPCLarkGlobalThemeStateChange:()=>G,onPcLarkUIStateChange:()=>U,onUIStateChange:()=>O,onWebUIStateChange:()=>N,setContentLight:()=>q,setContentTheme:()=>Y,setGlobalTheme:()=>z,setListenToSystem:()=>he,setThemeType:()=>ue,transformThemeToUIState:()=>D,updateLarkHeaderTheme:()=>ne});var i,o,s,r,a=t(165235),c=t(124159);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function u(e,n,t,i){return new(t||(t=Promise))((function(o,s){function r(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(r,a)}c((i=i.apply(e,n||[])).next())}))}!function(e){e.LIGHT="LIGHT",e.DARK="DARK"}(i||(i={})),function(e){e.ALL_DARK="all-dark",e.ALL_LIGHT="all-light",e.CONTENT_LIGHT="content-light"}(o||(o={})),function(e){e.LIGHT="(prefers-color-scheme: light)",e.DARK="(prefers-color-scheme: dark)"}(s||(s={})),function(e){e.LIGHT="(aha-content-prefers-color-scheme: aha-content-light)",e.DARK="(aha-content-prefers-color-scheme: aha-content-dark)"}(r||(r={}));const d=c.default.isLark&&!(c.default.isMobile||c.default.isIPad)&&!c.default.isLKP&&!c.default.isFeishuRooms,l=c.default.isBytedanceApp&&(c.default.isMobile||c.default.isIPad),h=c.default.isPcWeb,m="theme",f="contentTheme";const w=new Map;function p(){return u(this,void 0,void 0,(function*(){if(!d)return;const e="ui-state";if(w.has(e))return w.get(e);let n;try{n=yield t.e(93617).then(t.bind(t,293617)),w.set(e,n)}catch(e){}return n}))}const g=k(v(),"7.0");function b(e){let n=null;return window.matchMedia&&g&&d?(e===m?window.matchMedia(s.LIGHT).matches?n=i.LIGHT:window.matchMedia(s.DARK).matches&&(n=i.DARK):e===f&&(window.matchMedia(r.LIGHT).matches?n=i.LIGHT:window.matchMedia(r.DARK).matches&&(n=i.DARK)),n):n}function T(e,n){return d&&L(e)[n]||""}function L(e){const n={},t=/(?:\?([^#]*))?(?:#(.*))?$/.exec(e);if(t&&t[1]){t[1].split("&").forEach((e=>{const[t,i]=e.split("=");i&&(n[t]=i)}))}return n}function v(){const e=(window.navigator.userAgent||"").match(/Lark\/([0-9.]+)/i);return e&&e.length>=2?e[1]:""}function k(e="",n=""){const t=e.split("."),i=n.split("."),o=Math.max(t.length,i.length);for(let e=0;e<o;e++){const n=t[e],o=i[e];if(!o)return!0;if(!n)return!1;const s=Number(n),r=Number(o);if(s<r)return!1;if(s>r)return!0}return!0}function I(e,n){const t=L(window.location.href);if(t[e]){E()?t[e]=n.toLowerCase():delete t[e];const i="".concat(function(e){const n=[];return Object.keys(e).forEach((t=>{n.push("".concat(t,"=").concat(e[t]))})),n.join("&")}(t)).concat(window.location.hash);window.history.replaceState(null,"",i?"?".concat(i):window.location.pathname)}}const S=k(v(),"5.3"),C=function(){if(A())return!0;if(c.default.isFeishuRooms)return c.default.isDocComponent();if(d)return S;if(l)return!0;if(h)return!0;return!1}()||!1;function M(){return d&&!A()}function E(){return C}function A(){return c.default.isLarkPcTab}const _={};function P(){return!!T(window.location.href,m)}function D(e){return"dark"===e.toLowerCase()?{mode:i.DARK,vars:{}}:{mode:i.LIGHT,vars:{}}}function y(){var e,n,t;return u(this,void 0,void 0,(function*(){if(d){const e=yield p();return null==e?void 0:e.getCurrentUIState()}return l&&(null===(t=null===(n=null===(e=window.lark)||void 0===e?void 0:e.biz)||void 0===n?void 0:n.util)||void 0===t?void 0:t.theme)?new Promise((e=>{window.lark.biz.util.theme({callback({theme:n}){e(D(n))}})})):Promise.resolve(D("light"))}))}function F(e){if(E()){const n=b(m)||T(window.location.href,m)||window.__theme__||"";if("dark"===n.toLowerCase()||"light"===n.toLowerCase())e(D(n));else if((l||d)&&window.matchMedia){e(window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light"))}else if("system"===n.toLowerCase()&&window.matchMedia){e(window.matchMedia("(prefers-color-scheme: dark)").matches?D("dark"):D("light"))}else e(D("light"))}else e(D("light"))}function O(e){const n=Math.random().toString(36).slice(-6);return e&&(_[n]=e),()=>{_[n]=null,delete _[n]}}function R(e){Object.getOwnPropertyNames(e).length>0&&e.mode&&Object.keys(_).forEach((n=>{if(_.hasOwnProperty(n)&&null!==_[n]){const t=Object.assign({},e);t.mode=t.mode.toUpperCase(),_[n].call(null,t)}}))}function U(e){return u(this,void 0,void 0,(function*(){const n=yield p();return null==n?void 0:n.onUIStateChange(e)}))}function W(e){var n,t,i;(null===(i=null===(t=null===(n=window.lark)||void 0===n?void 0:n.biz)||void 0===t?void 0:t.util)||void 0===i?void 0:i.theme)&&window.lark.biz.util.theme({callback:({theme:n})=>{window.__theme__=n,e(D(n))}})}function N(e){if(window.matchMedia){const n=window.matchMedia(s.DARK);n&&K(n,(n=>{e(n.matches?D("dark"):D("light"))}))}}const G=/^(18465|21998|23303|48929|50889|78806)$/.test(t.j)?null:N;function H(e){if(window.matchMedia){const n=window.matchMedia(r.DARK);n&&K(n,(n=>{e(n.matches?D("dark"):D("light"))}))}}function K(e,n){e.addEventListener?e.addEventListener("change",n):e.addListener(n)}let B,x,Q=!1,j=!1;function V(){return E()?(Q||(F((e=>{B=e.mode.toUpperCase()})),Q=!0),B||i.LIGHT):i.LIGHT}function X(){return E()&&M()?(j||(x=(b(f)||T(window.location.href,f)||i.DARK).toUpperCase(),j=!0),x||i.DARK):i.DARK}function z(e){B=e,Q=!0}function Y(e){x=e,j=!0}function $(){return V()===i.DARK?X()===i.LIGHT?i.LIGHT:i.DARK:i.LIGHT}function J(){return V()===i.DARK?X()===i.LIGHT?o.CONTENT_LIGHT:o.ALL_DARK:o.ALL_LIGHT}function q(e){return u(this,void 0,void 0,(function*(){const n=e?i.LIGHT:i.DARK;if(n===X())return;Y(n),R(D($()));const o=yield function(){return u(this,void 0,void 0,(function*(){if(!d)return;const e="setting";if(w.has(e))return w.get(e);let n;try{n=yield Promise.all([t.e(14954),t.e(67104)]).then(t.bind(t,267104)),w.set(e,n)}catch(e){}return n}))}();o&&(yield o.set("lark.setting.content_theme",n))}))}const Z=e=>{const n=e.mode.toUpperCase();n!==X()&&(Y(n),R(D($())),I(f,n))};function ee(){var e,n,t,i;return u(this,void 0,void 0,(function*(){M()&&(g?H(Z):null===(i=null===(t=null===(n=null===(e=window.ShellAPI)||void 0===e?void 0:e.app)||void 0===n?void 0:n.ipc)||void 0===t?void 0:t.on)||void 0===i||i.call(t,"THEME_EVENT",((e={})=>{var n;let t;"THEME_EVENT"===e.type&&"APP_CONTENT_THEME_CHANGE"===(null===(n=e.detail)||void 0===n?void 0:n.ipcType)&&(t=e.detail.style,t&&t!==X()&&(Y(t),R(D($())),I(f,t)))})))}))}function ne(){if(!d)return;const e=J()===o.CONTENT_LIGHT;document.documentElement.dataset.larkHeader=e?"dark":""}let te;const ie=new Map;let oe=!1,se="system"===(window.__theme__||"").toLowerCase();const re=i.LIGHT,ae=a.createContext(de());function ce(){return $()}function ue(e,n){e.dataset.theme=(n||ce()).toLowerCase()}function de(e){const n=e||ce()||re;if(ie.has(n))return ie.get(n);if(te&&te[n]){const e=Object.assign(Object.assign({},te&&te[n]),{theme:n.toLowerCase()});return ie.set(n,e),e}return{}}function le(){return se}function he(e){se=e}function me(e){fe(D(e))}function fe(e){z(e.mode.toUpperCase()),R(D($())),I(m,V())}function we(e){return e?(te=e,E()?(oe||(!function(){E()&&(O((e=>{ue(document.documentElement,ce()),ne()})),d?(g?G(fe):U(fe),ee()):l?W(fe):N((e=>{se&&fe(e)})));const e=window.switchUIState;window.switchUIState=n=>{e&&e.call(window,n),fe(n)};const n=window.switchContentUIState;window.switchContentUIState=e=>{n&&n(e),Y(e.toUpperCase()),R(D($()))}}(),R(D($()))),oe=!0,()=>{oe=!1,te=null,window.switchUIState=null,window.switchContentUIState=null}):null):null}function pe(e){const[n,t]=(0,a.useState)(de());return(0,a.useEffect)((()=>{const e=O((e=>{t(de(e.mode))}));return()=>{e()}}),[]),a.createElement(ae.Provider,{value:n},e.children)}function ge(e){return a.createElement(ae.Consumer,null,(n=>a.cloneElement(e.children,{theme:n})))}function be(e){return n=>a.createElement(ae.Consumer,null,(t=>a.createElement(e,Object.assign({theme:t},n))))}}}]);