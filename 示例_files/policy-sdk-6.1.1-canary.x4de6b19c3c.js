var __builtin_policy_sdk__;!function(){var t,e={9892:function(t,e,n){"use strict";n.d(e,{H2:function(){return u},su:function(){return i},j_:function(){return w},Ru:function(){return _},wh:function(){return T},OE:function(){return g},fb:function(){return o},FH:function(){return y},oU:function(){return L},rD:function(){return R}});var r,o,i,u,a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},c=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u};!function(t){t.VA="us",t.CN="cn",t.JP="jp",t.SG="sg",t.MY="my"}(o||(o={})),function(t){t.BOE="boe",t.PRE="pre",t.ONLINE=""}(i||(i={})),function(t){t[t.FEISHU=0]="FEISHU",t[t.LARK=1]="LARK",t[t.ANONYMOUS=2]="ANONYMOUS"}(u||(u={}));var s,l,f,p=((r={})[u.FEISHU]=["feishu","larkoffice"],r[u.LARK]=["larksuite"],r),d={brand:u.LARK,env:i.ONLINE,unit:o.SG},h=function(t){var e,n,r=i.ONLINE;try{for(var o=a(Object.values(i)),u=o.next();!u.done;u=o.next()){var c=u.value;if(c!==i.ONLINE)if(new RegExp("".concat(c,"$")).test(t)){r=c;break}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},v=function(t,e){var n,r,i=e===u.FEISHU?o.CN:o.VA,c=e===u.FEISHU?[o.JP,o.SG,o.VA,o.MY]:[o.JP,o.SG,o.MY];try{for(var s=a(c),l=s.next();!l.done;l=s.next()){var f=l.value;if(new RegExp("".concat(f,"$")).test(t)){i=f;break}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},y=function(t){var e,n,r=c(function(t){var e=t.split(".").filter(Boolean),n=e.length;return[e[n-3],e[n-2],e[n-1]]}(t),2),o=r[0],i=r[1],s=void 0===i?"":i,l=u.ANONYMOUS;try{for(var f=a(Object.keys(p)),y=f.next();!y.done;y=f.next()){var b=y.value;if(p[b].some((function(t){return s.includes(t)}))){l=Number(b);break}}}catch(t){e={error:t}}finally{try{y&&!y.done&&(n=f.return)&&n.call(f)}finally{if(e)throw e.error}}return l===u.ANONYMOUS?d:{brand:l,env:h(s),unit:v(o,l)}};var b="";"undefined"!=typeof window&&(b=(null===(f=null===(l=null===(s=null===window||void 0===window?void 0:window.navigator)||void 0===s?void 0:s.userAgent)||void 0===l?void 0:l.toLowerCase)||void 0===f?void 0:f.call(l))||"");var g,_=-1!==b.indexOf("lark")||b.includes("openharmonyapp"),w=-1!==b.indexOf("docssdk"),m="undefined"!=typeof navigator?navigator.platform:"",E=function(){return!("undefined"==typeof document||!(null===document||void 0===document?void 0:document.documentElement)||!("ontouchstart"in document.documentElement))},C=function(t,e){return!("undefined"==typeof window||!window||!window.navigator)&&(/ipad/gi.test(t)||Boolean(navigator.maxTouchPoints)&&navigator.maxTouchPoints>2&&e.includes("MacIntel"))},O=function(t){return/Android/i.test(t)},S=function(t){return/iphone|ipod/i.test(t)},I=function(t){return t.includes("Mac")},k=function(t){return t.includes("Linux")},P=function(t){return t.includes("Win")},A=function(t){return/ArkWeb/i.test(t)};!function(t){t[t.Unknown=0]="Unknown",t[t.PC=1]="PC",t[t.Web=2]="Web",t[t.Android=3]="Android",t[t.iOS=4]="iOS",t[t.OtherMobile=8]="OtherMobile"}(g||(g={}));var T,R=function(t,e){if(_){if(A(t))return g.OtherMobile;if(O(t))return g.Android;if(S(t)||C(t,e))return g.iOS;if(I(e)||P(e)||k(e))return g.PC}return g.Web}(b,m);!function(t){t[t.Unknown=0]="Unknown",t[t.Windows=1]="Windows",t[t.Linux=2]="Linux",t[t.Mac=3]="Mac",t[t.Android=4]="Android",t[t.iOS=5]="iOS",t[t.OpenHarmony=6]="OpenHarmony"}(T||(T={}));var N,L=function(t,e){return A(t)?T.OpenHarmony:function(t,e){var n=E();return!(!function(t){return/iphone|mac/i.test(t)}(e)||!n)||(!(!S(t)&&!C(t,e))||!(!I(e)||!n))}(t,e)?T.iOS:function(t,e){var n=E();return!!O(t)||(!(!P(e)||!n)||!(!k(e)||!n))}(t,e)?T.Android:I(e)?T.Mac:P(e)?T.Windows:k(e)?T.Linux:T.Unknown}(b,m);!function(t){t.Chrome="Chrome",t.FireFox="FireFox",t.UCBrowser="UCBrowser",t.UCBrowserHD="UCBrowserHD",t.Sougou="Sougou",t.Quark="Quark",t.QQBrowser="QQBrowser",t.QQBrowserHD="QQBrowserHD",t.Baidu="Baidu",t.Aoyou="Aoyou",t.QihooHD="360BrowserHD",t.Qihoo="360Browser",t.DuckDuck="DuckDuckGo Privacy Browser",t.Aloha="Aloha Browser - private & fast",t.Edge="Edge",t.Opera="Opera Touch web browser",t.Safari="Safari",t.Unknown="unknown"}(N||(N={}));N.Chrome,N.FireFox,N.UCBrowser,N.UCBrowserHD,N.Sougou,N.Quark,N.QQBrowser,N.QQBrowserHD,N.Baidu,N.Aoyou,N.QihooHD,N.Qihoo,N.DuckDuck,N.Aloha,N.Edge,N.Opera,N.Safari;var D=window.navigator.userAgent;/Version\/[\d.]+ Mobile\/\w+ Safari/.test(D),/Version\/[\d.]+ Safari/.test(D)&&-1===D.indexOf("Chrome")&&document},3746:function(t,e,n){"use strict";n.d(e,{d1:function(){return r},ox:function(){return o}});var r="__TRACER_SPAN__",o="LARK_TRACER_API"},9051:function(t,e,n){"use strict";n.d(e,{_:function(){return u}});var r,o=n(9717),i=n(3746),u=function(){function t(t){this.parent=null,this.map={},t&&(this.parent=t),this.id=(0,o.x0)()}return t.current=function(){return r.context},t.prototype.run=function(t,e){this.active();try{return t.apply(e)}finally{this.deactive()}},t.prototype.active=function(){r={context:this,parent:r}},t.prototype.deactive=function(){var t;r=null!==(t=r.parent)&&void 0!==t?t:a},t.prototype.getValue=function(t){return this.map[t]},t.prototype.setValue=function(t,e){this.map[t]=e},t.prototype.getSpan=function(){return this.getValue(i.d1)},t.prototype.setSpan=function(t){this.setValue(i.d1,t)},t}(),a={context:new u,parent:null};r=a},3031:function(t,e,n){"use strict";e.X_=void 0;var r=n(7613);Object.defineProperty(e,"X_",{enumerable:!0,get:function(){return r.waitFor}})},7613:function(t,e){"use strict";var n=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.waitFor=e.PollUntil=void 0;const r="Your executor is not a function. functions and promises are valid.",o="Failed to wait";class i{constructor({interval:t=100,timeout:e=1e3,stopOnFailure:n=!1,verbose:r=!1,backoffFactor:o=1,backoffMaxInterval:i,message:u=""}={}){this._interval=t,this._timeout=e,this._stopOnFailure=n,this._isWaiting=!1,this._isResolved=!1,this._verbose=r,this._userMessage=u,this.originalStacktraceError=new Error,this._Console=console,this._backoffFactor=o,this._backoffMaxInterval=i||e,this.start=+Date.now()}tryEvery(t){return this._interval=t,this}stopAfter(t){return this._timeout=t,this}execute(t){return this._applyPromiseHandlers(),function(t){if("function"!=typeof t)throw new Error(r)}(t),this._executeFn=function(t){return()=>n(this,void 0,void 0,(function*(){return yield t()}))}(t),this.start=Date.now(),this._isWaiting=!0,this._log("starting to execute"),this._runFunction(),this.promise}getPromise(){return this.promise}isResolved(){return this._isResolved}isWaiting(){return this._isWaiting}stopOnFailure(t){return this._stopOnFailure=t,this}_applyPromiseHandlers(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}_timeFromStart(){return Date.now()-this.start}_shouldStopTrying(){return this._timeFromStart()>this._timeout}_executeAgain(){this._log("executing again");const t=this._interval,e=t*this._backoffFactor;this._interval=e>this._backoffMaxInterval?this._backoffMaxInterval:e,setTimeout(this._runFunction.bind(this),t)}_failedToWait(){let t=`${o} after ${this._timeFromStart()}ms`;if(this._userMessage&&(t=`${t}: ${this._userMessage}`),this._lastError){this._lastError.message=`${t}\n${this._lastError.message}`;const e=this.originalStacktraceError.stack;e&&(this._lastError.stack+=e.substring(e.indexOf("\n")+1))}else this._lastError=this.originalStacktraceError,this._lastError.message=t;return this._log(this._lastError),this._lastError}_runFunction(){var t;if(this._shouldStopTrying())return this._isWaiting=!1,void(null===(t=this.reject)||void 0===t||t.call(this,this._failedToWait()));this._executeFn().then(t=>{var e;if(!1===t)return this._log("then execute again with result: "+t),void this._executeAgain();null===(e=this.resolve)||void 0===e||e.call(this,t),this._isWaiting=!1,this._isResolved=!0,this._log("then done waiting with result: "+t)}).catch(t=>{var e;return this._stopOnFailure?(this._log("stopped on failure with err: "+t),null===(e=this.reject)||void 0===e?void 0:e.call(this,t)):(this._lastError=t,this._log("catch with err: "+t),this._executeAgain())})}_log(t){this._verbose&&this._Console&&this._Console.log&&this._Console.log(t)}}e.PollUntil=i;e.waitFor=(t,e)=>new i(e).execute(t)},9538:function(t,e){var n,r,o;r=[],void 0===(o="function"==typeof(n=function(){var t=function t(e){function n(t,e){return t>>>e|t<<32-e}for(var r,o,i=Math.pow,u=i(2,32),a="",c=[],s=8*e.length,l=t.h=t.h||[],f=t.k=t.k||[],p=f.length,d={},h=2;p<64;h++)if(!d[h]){for(r=0;r<313;r+=h)d[r]=h;l[p]=i(h,.5)*u|0,f[p++]=i(h,1/3)*u|0}for(e+="Â€";e.length%64-56;)e+="\0";for(r=0;r<e.length;r++){if((o=e.charCodeAt(r))>>8)return;c[r>>2]|=o<<(3-r)%4*8}for(c[c.length]=s/u|0,c[c.length]=s,o=0;o<c.length;){var v=c.slice(o,o+=16),y=l;for(l=l.slice(0,8),r=0;r<64;r++){var b=v[r-15],g=v[r-2],_=l[0],w=l[4],m=l[7]+(n(w,6)^n(w,11)^n(w,25))+(w&l[5]^~w&l[6])+f[r]+(v[r]=r<16?v[r]:v[r-16]+(n(b,7)^n(b,18)^b>>>3)+v[r-7]+(n(g,17)^n(g,19)^g>>>10)|0);(l=[m+((n(_,2)^n(_,13)^n(_,22))+(_&l[1]^_&l[2]^l[1]&l[2]))|0].concat(l))[4]=l[4]+m|0}for(r=0;r<8;r++)l[r]=l[r]+y[r]|0}for(r=0;r<8;r++)for(o=3;o+1;o--){var E=l[r]>>8*o&255;a+=(E<16?0:"")+E.toString(16)}return a};return t.code='var sha256=function a(b){function c(a,b){return a>>>b|a<<32-b}for(var d,e,f=Math.pow,g=f(2,32),h="length",i="",j=[],k=8*b[h],l=a.h=a.h||[],m=a.k=a.k||[],n=m[h],o={},p=2;64>n;p++)if(!o[p]){for(d=0;313>d;d+=p)o[d]=p;l[n]=f(p,.5)*g|0,m[n++]=f(p,1/3)*g|0}for(b+="\\x80";b[h]%64-56;)b+="\\x00";for(d=0;d<b[h];d++){if(e=b.charCodeAt(d),e>>8)return;j[d>>2]|=e<<(3-d)%4*8}for(j[j[h]]=k/g|0,j[j[h]]=k,e=0;e<j[h];){var q=j.slice(e,e+=16),r=l;for(l=l.slice(0,8),d=0;64>d;d++){var s=q[d-15],t=q[d-2],u=l[0],v=l[4],w=l[7]+(c(v,6)^c(v,11)^c(v,25))+(v&l[5]^~v&l[6])+m[d]+(q[d]=16>d?q[d]:q[d-16]+(c(s,7)^c(s,18)^s>>>3)+q[d-7]+(c(t,17)^c(t,19)^t>>>10)|0),x=(c(u,2)^c(u,13)^c(u,22))+(u&l[1]^u&l[2]^l[1]&l[2]);l=[w+x|0].concat(l),l[4]=l[4]+w|0}for(d=0;8>d;d++)l[d]=l[d]+r[d]|0}for(d=0;8>d;d++)for(e=3;e+1;e--){var y=l[d]>>8*e&255;i+=(16>y?0:"")+y.toString(16)}return i};',t})?n.apply(e,r):n)||(t.exports=o)},9972:function(t,e,n){"use strict";n.d(e,{Bo:function(){return a},Ih:function(){return c},KZ:function(){return d},Ox:function(){return i},Rv:function(){return o},U1:function(){return f},Z5:function(){return p},a0:function(){return l},u3:function(){return u},y3:function(){return s}});var r={request:n(3198).Z,baseURL:""};function o(t){r._initialized||(r.request=(null==t?void 0:t.request)||r.request,r.baseURL=(null==t?void 0:t.baseURL)||"",r._initialized=!0)}function i(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/runtime_config/query"),o=t||{},i={version:o.version,terminalType:o.terminalType},u={"x-lgw-terminal-type":o["x-lgw-terminal-type"]};return r.request({url:n,method:"POST",data:i,headers:u},e)}function u(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/policy_log/report"),o={policyLog:(t||{}).policyLog};return r.request({url:n,method:"POST",data:o},e)}function a(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/pointcut/query");return r.request({url:n,method:"POST"},e)}function c(t,e){var n=r.genBaseURL("/lark/scs/guardian/enforce"),o={params:(t||{}).params};return r.request({url:n,method:"POST",data:o},e)}function s(t,e){var n=r.genBaseURL("/lark/scs/guardian/pointcut/control_check"),o={params:(t||{}).params};return r.request({url:n,method:"POST",data:o},e)}function l(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/policy_type_tenants/query");return r.request({url:n,method:"POST"},e)}function f(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/policy_log/report/v2"),o=t||{},i={policyLog:o.policyLog,isPreEvaluate:o.isPreEvaluate};return r.request({url:n,method:"POST",data:i},e)}function p(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/evaluate_uk/report"),o={evaluateInfos:(t||{}).evaluateInfos};return r.request({url:n,method:"POST",data:o},e)}function d(t,e){var n=r.genBaseURL("/lark/scs/guardian/policy_engine/evaluate_log/delete"),o={evaluateInfos:(t||{}).evaluateInfos};return r.request({url:n,method:"POST",data:o},e)}r.genBaseURL=function(t){return"function"==typeof r.baseURL?r.baseURL(t):r.baseURL+t}},4821:function(t,e,n){"use strict";n.d(e,{R$:function(){return i},gY:function(){return o}});var r={request:n(3198).Z,baseURL:""};function o(t){r._initialized||(r.request=(null==t?void 0:t.request)||r.request,r.baseURL=(null==t?void 0:t.baseURL)||"",r._initialized=!0)}function i(t,e){var n=r.genBaseURL("/lark/security/terminal/intranet/service_info");return r.request({url:n,method:"GET"},e)}r.genBaseURL=function(t){return"function"==typeof r.baseURL?r.baseURL(t):r.baseURL+t}},3788:function(t,e,n){"use strict";var r,o,i,u,a;n.d(e,{Jg:function(){return r},OW:function(){return i},Qm:function(){return o},Su:function(){return u},py:function(){return a}}),function(t){t.Network="BLOCKED_BY_IP_RULE",t.NetworkStrict="BLOCKED_BY_IP_STRICT_POLICY",t.MFA="ACCESS_MFA",t.DeviceState="BLOCKED_BY_DEVICE_CREDIBILITY",t.DeviceOwn="BLOCKED_BY_DEVICE_OWNERSHIP",t.FilePolicy="FILE_BLOCK_COMMON",t.Permission="BLOCKED_BY_PERMISSION_PLUGIN",t.Default="DEFAULT",t.SignatureFailure="BLOCKED_BY_SIGNATURE_FAILURE",t.DLP_CONTENT_SENSITIVE="DLP_CONTENT_SENSITIVE",t.DLP_CONTENT_DETECTING="DLP_CONTENT_DETECTING",t.TT_BLOCK="TT_BLOCK",t.FALLBACK_COMMON="FALLBACK_COMMON",t.UNIVERSAL_FALLBACK_COMMON="UNIVERSAL_FALLBACK_COMMON",t.Intranet="BLOCKED_BY_TERMINAL_TOKEN",t.ACCESS_CONTROL_ACTION_COMMON="ACCESS_CONTROL_ACTION_COMMON"}(r||(r={})),function(t){t.Permit="PERMIT",t.Deny="DENY",t.Indeterminate="INDETERMINATE",t.NotApplicable="NOT_APPLICABLE"}(o||(o={})),function(t){t.CCMCopy="CCM_CONTENT_COPY",t.CCMPrint="CCM_PRINT",t.CCMExport="CCM_EXPORT",t.CCMShare="CCM_SHARE",t.CCMAttachmentDownload="CCM_ATTACHMENT_DOWNLOAD",t.CCMAttachmentUpload="CCM_ATTACHMENT_UPLOAD",t.CCMContentPreview="CCM_CONTENT_PREVIEW",t.CCMCreateCopy="CCM_CREATE_COPY",t.CCMPhysicalDelete="CCM_DELETE",t.CCMPFileUpload="CCM_FILE_UPLOAD",t.CCMPFilePreView="CCM_FILE_PREVIEW",t.CCMPFileDownload="CCM_FILE_DOWNLOAD",t.CCMPMoveRecycleBin="CCM_MOVE_RECYCLE_BIN",t.CCMOpen="CCM_OPEN",t.CCMAuth="CCM_AUTH",t.CCMOpenExternalAccess="CCM_OPEN_EXTERNAL_ACCESS",t.CCMOpenExternalAccessAsync="CCM_OPEN_EXTERNAL_ACCESS_ASYNC",t.CCMOpenLinkShareChange="CCM_LINK_SHARE_CHANGE",t.CCMOpenLinkShareChangeAsync="CCM_LINK_SHARE_CHANGE_ASYNC",t.CCMAddCollaborator="CCM_ADD_INTERNAL_COLLABORATOR",t.CCMAddCollaboratorAsync="CCM_ADD_INTERNAL_COLLABORATOR_ASYNC",t.CCMAddExternalCollaborator="CCM_ADD_EXTERNAL_COLLABORATOR",t.CCMAddExternalCollaboratorAsync="CCM_ADD_EXTERNAL_COLLABORATOR_ASYNC",t.IMTextSend="IM_MSG_SEND_TEXT_MSG",t.IMFileSend="IM_MSG_SEND_FILE_MSG",t.IMMSGPhysicalDelete="IM_MSG_PHYSICAL_DELETE",t.IMFileDownload="IM_MSG_FILE_DOWNLOAD",t.IMFileSave="IM_MSG_FILE_SAVE",t.IMFileUpload="IM_MSG_FILE_UPLOAD",t.IMFileShare="IM_MSG_FILE_SHARE",t.IMFilePreview="IM_MSG_FILE_PREVIEW",t.IMFileRead="IM_MSG_FILE_READ",t.IMFileCopy="IM_MSG_FILE_COPY",t.IMChatModifyName="IM_MSG_CHAT_MODIFY_NAME",t.IMChatModifyDesc="IM_MSG_CHAT_MODIFY_DESC",t.IMChatModifyProfile="IM_MSG_CHAT_MODIFY_PROFILE",t.IMChatAddTag="IM_MSG_CHAT_ADD_TAG",t.IMChatEditTag="IM_MSG_CHAT_EDIT_TAG",t.IMChatEditUserNickName="IM_MSG_EDIT_USER_NICK_NAME",t.IMMsgAsyncDetection="IM_MSG_ASYNC_DETECTION",t.VCMeetingMinutesPhysicalDelete="VC_MM_PHYSICAL_DELETE",t.MailPhysicalDelete="MAIL_PHYSICAL_DELETE",t.VcHardDelete="VC_MM_DELETE_FROM_RECYCLE_BIN",t.VcDelete="VC_MM_MOVE_RECYCLE_BIN",t.VcUpload="VC_MM_UPLOAD",t.VcCopy="VC_MM_CONTENT_COPY"}(i||(i={})),function(t){t.UNKNOWN="Unknown",t.CCM="CCM",t.IM="IM",t.MAIL="Mail",t.VC="VC",t.TODO="TODO",t.CALENDAR="Calendar",t.PASSPORT="Passport",t.IM_OTHERS="IM_Others",t.MINUTES="MeetingMinutes"}(u||(u={})),function(t){t.Doc="DOC",t.Docx="DOCX",t.Sheet="SHEET",t.Bitable="BITABLE",t.Mindnote="MINDNOTE",t.File="FILE",t.DASHBOARD="DASHBOARD",t.BITABLESHAREFORM="BITABLE_SHARE_FORM",t.CHART="CHART",t.SPACE_CATALOG="SPACE_CATALOG",t.WIKI_SPACE="WIKI_SPACE",t.PIVOTTABLE="PIVOT_TABLE",t.RECORD="RECORD",t.SYNC="SYNC",t.SLIDES="SLIDES",t.ImMsgFile="IM_MSG_FILE",t.MeetingMinutes="MeetingMinutes"}(a||(a={}))},6969:function(t,e,n){"use strict";var r;n.d(e,{Ab:function(){return l},MA:function(){return r},Nt:function(){return a},Y3:function(){return f},hf:function(){return o},hj:function(){return s},hx:function(){return u},oz:function(){return i},u7:function(){return c}}),function(t){t.ccmExport="PointKey_CCM_EXPORT",t.ccmFileDownload="PointKey_CCM_FILE_DOWNLOAD",t.ccmFileUpload="PointKey_CCM_FILE_UPLOAD",t.ccmAttachmentDownload="PointKey_CCM_ATTACHMENT_DOWNLOAD",t.ccmPrint="PointKey_CCM_PRINT",t.ccmCopy="PointKey_CCM_CONTENT_COPY",t.ccmDuplicate="PointKey_CCM_CREATE_COPY",t.ccmPreview="PointKey_CCM_CONTENT_PREVIEW",t.ccmFilePreview="PointKey_CCM_FILE_PREVIEW",t.ccmDelete="PointKey_CCM_MOVE_RECYCLE_BIN",t.ccmOpenExternalAccess="PointKey_CCM_OPEN_EXTERNAL_ACCESS",t.imDownload="PointKey_IM_MSG_FILE_DOWNLOAD",t.imUpload="PointKey_IM_MSG_FILE_UPLOAD",t.imCopy="PointKey_IM_MSG_FILE_COPY",t.imPreview="PointKey_IM_MSG_FILE_PREVIEW",t.imShare="PointKey_IM_MSG_FILE_READ",t.vcCopy="PointKey_VC_MM_CONTENT_COPY"}(r||(r={}));var o=new Set([r.imShare,r.imDownload]),i=[r.imDownload],u=[r.imDownload],a=[r.imDownload],c=3,s="security_login_restriction_ping_time_storage",l=5e3,f=9e5},3583:function(t,e,n){"use strict";var r,o;n.d(e,{pW:function(){return r}}),function(t){t.UNKNOWN="",t.CCM="CCM",t.IM="IM",t.VC="VC",t.CALENDAR="CALENDAR"}(r||(r={})),function(t){t[t.P2P=1]="P2P",t[t.GROUP=2]="GROUP",t[t.TOPIC_GROUP=3]="TOPIC_GROUP"}(o||(o={}))},3545:function(t,e,n){"use strict";n.d(e,{EE:function(){return i}});var r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n},o=function(t){return"object"!=typeof t?t:Array.isArray(t)?t.map((function(t){return o(t)})):Object.keys(t).sort().reduce((function(e,n){return e[n]="object"==typeof t[n]?o(t[n]):t[n],e}),{})},i=function(t){t.taskId;return function(t){var e=o(t);return JSON.stringify(e)}(r(t,["taskId"]))}},6379:function(t,e,n){"use strict";n.d(e,{g:function(){return i}});var r=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},o=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},i=new(function(){function t(t){this.cacheKey=t}return t.prototype.getCache=function(t){var e=null===localStorage||void 0===localStorage?void 0:localStorage.getItem("".concat(this.cacheKey,"-").concat(t));if(e)try{return JSON.parse(e)}catch(t){return null}return null},t.prototype.setCache=function(t,e){return null===localStorage||void 0===localStorage||localStorage.setItem("".concat(this.cacheKey,"-").concat(t),JSON.stringify(e)),e},t.prototype.getCacheAsync=function(t){var e=t.query,n=t.partition;return r(this,void 0,Promise,(function(){var t,r;return o(this,(function(o){switch(o.label){case 0:return(t=this.getCache(n))?(this.updateCacheAsync({query:e,partition:n}),[2,t]):this.queryPromise?[2,this.queryPromise]:(this.queryPromise=e(),[4,this.queryPromise]);case 1:return r=o.sent(),this.queryPromise=null,r&&Object.keys(r).length>0&&this.setCache(n,r),[2,r]}}))}))},t.prototype.updateCacheAsync=function(t){var e=t.query,n=t.partition;return r(this,void 0,Promise,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return this.updatePromise?[2,this.updatePromise]:(this.updatePromise=e(),[4,this.updatePromise]);case 1:return(t=r.sent())&&Object.keys(t).length>0&&this.setCache(n,t),[2,t]}}))}))},t}())("policy-sdk-config")},4720:function(t,e,n){"use strict";n.d(e,{_:function(){return c},f:function(){return f}});var r=n(5958),o=function(t){return Boolean(t)&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then},i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},u=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u},a=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},c={PolicyWorker:"PolicyWorker",PAP:"PAP",Network:"Network"},s=function(t,e,n,r){return{target:t,args:e,startTime:n,funcName:r,type:"info",err:null,res:null}},l=function(t,e,n,r){return{target:t,args:e,startTime:n,funcName:r,res:null,type:"error"}};function f(t){var e=t.onLog,n=t.onCatch,c=t.onReturn,f=t.beforeEnterAsync;return function(t,p,d){var h=d.value;d.value=function(){for(var t=this,d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];var y=(new Date).getTime();e&&e(i(i({},s(this,d,y,p)),{message:"s ".concat(p)}));var b=function(n){if(e&&e(i(i({},s(t,[],y,p)),{res:n,message:"f ".concat(p)})),c)return c.apply(void 0,a([t,n],u(d),!1))},g=function(o){var c={error:null==o?void 0:o.message,stack:null==o?void 0:o.stack,cause:null==o?void 0:o.cause,type:"Error",funcName:p,args:d,isOnline:navigator.onLine};if((0,r.DO)(c),e&&e(i(i({},l(t,d,y,p)),{err:o.message,message:"exec ".concat(p," error")})),n)return n.apply(void 0,a([t,o],u(d),!1));throw Error(o)},_=function(){try{var e=h.apply(t,a([],u(d),!1));return o(e)?e.then((function(t){return b(t)||e})).catch((function(t){return g(t)})):b(e)||e}catch(t){return g(t)}};return f?f.apply(void 0,a([this],u(d),!1)).then((function(t){return t.exit?t.result:_()})).catch((function(t){return g(t)})):_()}}}},213:function(t,e,n){"use strict";n.d(e,{p:function(){return u}});var r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u},o=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},i=Symbol("instances");function u(t){return function(e){var n=e;n[i]={};var u=Symbol("instance"),a=function(){var e,a=[].slice.call(arguments),c=t?JSON.stringify(t.apply(void 0,o([],r(a),!1))):u;return n.prototype!==this.constructor.prototype?((e=n.constructor).call.apply(e,o([this],r(a),!1)),this):(n[i][c]||(n[i][c]=new(n.bind.apply(n,o([void 0],r(a),!1)))),n[i][c])};return Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)),a}}},2463:function(t,e,n){"use strict";n.d(e,{u:function(){return f}});var r,o,i,u,a=n(213),c=n(2074),s=function(t,e,n,r){var o,i=arguments.length,u=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(u=(i<3?o(u):i>3?o(e,n,u):o(e,n))||u);return i>3&&u&&Object.defineProperty(e,n,u),u},l={all:u=u||new Map,on:function(t,e){var n=u.get(t);n?n.push(e):u.set(t,[e])},off:function(t,e){var n=u.get(t);n&&(e?n.splice(n.indexOf(e)>>>0,1):u.set(t,[]))},emit:function(t,e){var n=u.get(t);n&&n.slice().map((function(t){t(e)})),(n=u.get("*"))&&n.slice().map((function(n){n(t,e)}))}},f=new(function(){function t(){this.cache={}}return t.prototype.emit=function(t,e){if(!l.all.get(t))return(this.cache[t]||(this.cache[t]=[])).push(e),void(this.cache[t]=this.cache[t].slice(-50));l.emit(t,e)},t.prototype.on=function(t,e){var n=this;return this.cache[t]&&this.cache[t].map((function(t){return e.call(n,t)})),l.on(t,e),{dispose:function(){return n.off(t,e)}}},t.prototype.off=function(t,e){l.off(t,e)},t.prototype.has=function(t){return Boolean(l.all.get(t))},t=s([(0,a.p)()],t)}());"undefined"!=typeof window&&(null===(r=window.addEventListener)||void 0===r||r.call(window,"online",(function(){return f.emit(c.GE.NETWORK_ONLINE)}))),"undefined"!=typeof window&&(null===(o=window.addEventListener)||void 0===o||o.call(window,"offline",(function(){return f.emit(c.GE.NETWORK_OFFLINE)}))),"undefined"!=typeof document&&(null===(i=document.addEventListener)||void 0===i||i.call(document,"visibilitychange",(function(){"visible"===document.visibilityState&&f.emit(c.GE.BACK_TO_FRONT)})))},2010:function(t,e,n){"use strict";n.d(e,{W:function(){return a},n:function(){return c}});var r="Symbol"in n.g&&"iterator"in Symbol;function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'.concat(t,'"'));return t}function i(t){return"string"!=typeof t&&(t=String(t)),t}function u(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}var a=function(){function t(e){this.map={},this.map={},e instanceof t||"undefined"!=typeof Headers&&e instanceof Headers?e.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(e)?e.forEach((function(t){this.append(t[0],t[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}return t.prototype.append=function(t,e){t=o(t),e=i(e);var n=this.map[t];this.map[t]=n?"".concat(n,", ").concat(e):e},t.prototype.delete=function(t){delete this.map[o(t)]},t.prototype.get=function(t){return t=o(t),this.has(t)?this.map[t]:null},t.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},t.prototype.set=function(t,e){this.map[o(t)]=i(e)},t.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},t.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),u(t)},t.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),u(t)},t.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),u(t)},t}();function c(t){var e=new a;return t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n,r=t.split(":"),o=null===(n=r.shift())||void 0===n?void 0:n.trim();if(o){var i=r.join(":").trim();try{e.append(o,i)}catch(t){}}})),e}},4622:function(t,e,n){"use strict";n.d(e,{n:function(){return p}});var r,o=n(9741),i=n(8031),u=n(1964),a=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},c=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},s=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u},l=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t.Success="Success",t.Error="Error",t.Timeout="Timeout",t.Abort="Abort"}(r||(r={}));var p=function(){function t(t){this.timer={},this.abortController={},this.requestTimeout=null==t?void 0:t.requestTimeout,this.responseTimeout=null==t?void 0:t.responseTimeout,(null==t?void 0:t.dependencies)&&(this.dependencies=t.dependencies)}return Object.defineProperty(t.prototype,"key",{get:function(){return this.constructor.key},enumerable:!1,configurable:!0}),t.prototype.doInterceptor=function(t,e,n){var i,u=this,a=(0,o.Z)(),c=!1,f=!1,p=n[0],d=function(t){c=!0,i(t)},h=function(){c||(p.lock(),null==d||d({success:f,reason:r.Abort}))};this.abortController[a]=h;var v=new Promise((function(t){i=t}));v.finally((function(){delete u.abortController[a]}));try{t.apply(void 0,l([],s(n),!1)).then((function(t){c||d({success:f=!0,result:t,reason:r.Success})})).catch((function(t){d({success:f,reason:r.Error,message:t.message})})),void 0!==e&&e>=0&&(this.timer[a]=setTimeout((function(){u.timer[a]=void 0,c||(p.lock(),d({success:f,reason:r.Timeout}))}),e))}catch(t){d({success:f,reason:r.Error,message:t.message})}return{abort:h,promise:v}},t.prototype.doRequestInterceptor=function(t){var e=new i.S(t);return this.doInterceptor(this.request,this.requestTimeout,[e])},t.prototype.doResponseInterceptor=function(t,e){var n=new u.J(t),r=new i.S(e);return r.lock(),this.doInterceptor(this.response,this.responseTimeout,[n,r])},t.prototype.request=function(t){return a(this,void 0,Promise,(function(){return c(this,(function(t){return[2,!0]}))}))},t.prototype.response=function(t,e){return a(this,void 0,Promise,(function(){return c(this,(function(t){return[2,!0]}))}))},t.prototype.dispose=function(){var t,e,n,r;try{for(var o=f(Object.keys(this.abortController)),i=o.next();!i.done;i=o.next()){var u=i.value;(0,this.abortController[u])()}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}this.abortController={};try{for(var a=f(Object.keys(this.timer)),c=a.next();!c.done;c=a.next()){u=c.value;var s=this.timer[u];void 0!==s&&clearTimeout(s)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}this.timer={}},t.key="Interceptor",t}()},8031:function(t,e,n){"use strict";n.d(e,{S:function(){return u},V:function(){return i}});var r=n(2010),o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},i=function(){function t(t){this.headers=new r.W(null==t?void 0:t.headers),this.originURL=null==t?void 0:t.url,this.originBody=null==t?void 0:t.body,this.originMethod=null==t?void 0:t.method}return t.fromFetch=function(e,n){var r=new Request(e,n),o=new Headers;(e instanceof Request&&e.headers&&e.headers.forEach((function(t,e){o.append(e,t)})),null==n?void 0:n.headers)&&new Headers(n.headers).forEach((function(t,e){o.append(e,t)}));return new t({headers:o,url:r.url,body:r.body,method:r.method})},t.fromXHR=function(e,n){return new t({headers:null==n?void 0:n.headers,method:null==n?void 0:n.method,url:null==n?void 0:n.url,body:null==n?void 0:n.body})},Object.defineProperty(t.prototype,"url",{get:function(){return this.originURL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"method",{get:function(){return this.originMethod},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteURL",{get:function(){if(this.originURL)return new URL(this.originURL,location.href).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this.originBody},enumerable:!1,configurable:!0}),t.prototype.applyOnFetch=function(t,e,n){var r=new Request(t,e),i=new Headers(r.headers);return this.headers.forEach((function(t,e){n?i.append(e,t):i.set(e,t)})),o(o({},e),{headers:i})},t.prototype.applyOnXHR=function(t){this.headers.forEach((function(e,n){t.setRequestHeader(n,e)}))},t.prototype.clone=function(){return new t({headers:this.headers})},t}(),u=function(){function t(t){this.locked=!1,this.content=t}return Object.defineProperty(t.prototype,"url",{get:function(){return this.content.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"method",{get:function(){return this.content.method},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteURL",{get:function(){return this.content.absoluteURL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"body",{get:function(){return this.content.body},enumerable:!1,configurable:!0}),t.prototype.setHeader=function(t,e){this.locked||this.content.headers.set(t,e)},t.prototype.appendHeader=function(t,e){this.locked||this.content.headers.append(t,e)},t.prototype.getHeader=function(t){return this.content.headers.get(t)},t.prototype.headerEntries=function(){return this.content.headers.entries()},t.prototype.headerKeys=function(){return this.content.headers.keys()},t.prototype.headerValues=function(){return this.content.headers.values()},t.prototype.lock=function(){this.locked=!0},t.prototype.unlock=function(){this.locked=!1},t}()},1964:function(t,e,n){"use strict";n.d(e,{J:function(){return i},u:function(){return o}});var r=n(2010),o=function(){function t(t){this.headers=new r.W(null==t?void 0:t.headers),this.status=null==t?void 0:t.status}return t.fromFetch=function(e){return new t({headers:new Headers(e.headers),status:e.status})},t.fromXHR=function(e){var n=e.getAllResponseHeaders(),o=e.status;return new t({headers:(0,r.n)(n),status:o})},t.prototype.clone=function(){return new t({headers:this.headers})},t}(),i=function(){function t(t){this.locked=!1,this.content=t}return t.prototype.getHeader=function(t){return this.content.headers.get(t)},t.prototype.getStatus=function(){return this.content.status},t.prototype.headerEntries=function(){return this.content.headers.entries()},t.prototype.headerKeys=function(){return this.content.headers.keys()},t.prototype.headerValues=function(){return this.content.headers.values()},t.prototype.lock=function(){this.locked=!0},t.prototype.unlock=function(){this.locked=!1},t}()},9208:function(t,e,n){"use strict";n.d(e,{FD:function(){return bt},UE:function(){return ht},Ct:function(){return yt},YC:function(){return wt},BD:function(){return gt},pF:function(){return vt},m5:function(){return _t}});var r,o=n(9892),i=n(9538),u=n.n(i),a=n(3742),c=n(4118),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(){function t(){this.listeners=[],this.notifyingCount=0,this.needRemoveListenerCount=0,this.disposed=!1}return t.prototype.dispose=function(){this.disposed=!0,this.listeners=[]},t.prototype.addListener=function(t){var e=this;return this.listeners.push(t),function(){e.removeListener(t)}},t.prototype.removeListener=function(t){if(!this.disposed)for(var e=this.listeners.length,n=0;n<e&&!this.disposed;n++){if(this.listeners[n]===t){0===this.notifyingCount?this.listeners.splice(n,1):(this.listeners[n]=null,this.needRemoveListenerCount++);break}}},t.prototype.cleanNeedRemoveListener=function(){if(!this.disposed)for(var t=0;t<this.listeners.length;){this.listeners[t]?t++:this.listeners.splice(t,1)}},t.prototype.notifyListeners=function(t){this.internalNotifyListener(t)},t.prototype.activeListener=function(t,e){null==t||t(e)},t.prototype.internalNotifyListener=function(t){if(!this.disposed){this.notifyingCount++;for(var e=this.listeners.length,n=0;n<e&&!this.disposed;n++){var r=this.listeners[n];this.activeListener(r,t)}this.notifyingCount--,0===this.notifyingCount&&this.needRemoveListenerCount>0&&(this.cleanNeedRemoveListener(),this.needRemoveListenerCount=0)}},t}(),f=(function(t){function e(e){var n=t.call(this)||this;return n.value=e,n}s(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.internalValue},set:function(t){this.internalSetValue(t),this.notifyListeners(t)},enumerable:!1,configurable:!0}),e.prototype.updateValue=function(t,e){e?this.internalSetValue(t):this.value=t},e.prototype.internalSetValue=function(t){this.internalValue!==t&&(this.internalValue=t)},e.prototype.addListener=function(e){return t.prototype.addListener.call(this,e)},e.prototype.removeListener=function(e){t.prototype.removeListener.call(this,e)}}(l),n(9782)),p=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u};function d(t,e){void 0===e&&(e=!1);var n="";return n=t instanceof Request?t.url:function(t){return t instanceof URL}(t)?t.href:t,e||(n=this.isString(n)?n.split("?")[0]:n),n}var h=n(8031),v=n(1964),y=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},b=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},g=function(){function t(t){this.whiteList=null==t?void 0:t.whiteList,this.handleRequest=null==t?void 0:t.handleRequest,this.handleResponse=null==t?void 0:t.handleResponse,"undefined"!=typeof window&&window.fetch&&(this.revoke=this.patch())}return t.prototype.inWhiteList=function(t){return y(this,void 0,Promise,(function(){var e;return b(this,(function(n){return(e=this.whiteList)?Array.isArray(e)?[2,e.some((function(e){return e===t}))]:[2,e(t)]:[2,!1]}))}))},t.prototype.patch=function(){var t,e,n=this,r=!1,o=window.fetch,i=function(t,e){return y(n,void 0,void 0,(function(){var n,i,u,a,c,s=this;return b(this,(function(l){switch(l.label){case 0:return r?[2,o(t,e)]:(n=d(t,!0),[4,this.inWhiteList(n)]);case 1:return l.sent()?[2,o(t,e)]:(i=t,u=e,a=h.V.fromFetch(t,e),this.handleRequest?[4,this.handleRequest(a)]:[3,3]);case 2:a=l.sent(),c=a.applyOnFetch(t,e),i=t,u=c,l.label=3;case 3:return[2,o(i,u).then((function(t){return y(s,void 0,void 0,(function(){return b(this,(function(e){switch(e.label){case 0:return this.handleResponse?[4,this.handleResponse(v.u.fromFetch(t),a)]:[3,2];case 1:return e.sent(),[2,t];case 2:return[2,t]}}))}))}))]}}))}))};return t=o,e=i,Object.defineProperties(e,{name:Object.getOwnPropertyDescriptor(t,"name"),length:Object.getOwnPropertyDescriptor(t,"length"),toString:{enumerable:!1,configurable:!1,writable:!0,value:function(){return t.toString()}},toLocaleString:{enumerable:!1,configurable:!1,writable:!0,value:function(){return t.toLocaleString()}},valueOf:{enumerable:!1,configurable:!1,writable:!0,value:function(){return t.valueOf()}}}),window.fetch=i,function(){r=!0}},t.prototype.dispose=function(){var t;null===(t=this.revoke)||void 0===t||t.call(this),this.handleRequest=void 0,this.handleResponse=void 0,this.whiteList=void 0},t}(),_=n(2010),w=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},m=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},E=function(){function t(t){this.whiteList=null==t?void 0:t.whiteList,this.handleRequest=null==t?void 0:t.handleRequest,this.handleResponse=null==t?void 0:t.handleResponse,"undefined"!=typeof window&&window.XMLHttpRequest&&(this.revoke=this.patch())}return t.prototype.inWhiteList=function(t){return w(this,void 0,Promise,(function(){var e;return m(this,(function(n){return(e=this.whiteList)?Array.isArray(e)?[2,e.some((function(e){return e===t}))]:[2,e(t)]:[2,!1]}))}))},t.prototype.patch=function(){var t=window.XMLHttpRequest,e=!1,n=this;return window.XMLHttpRequest=new Proxy(t,{construct:function(t){if(e)return new t;var r,o,i,u=new t,a=new _.W,c=!1,s=function(t){return function(){for(var r=this,o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];4!==this.readyState||e||c?null==t||t.call(this,o):w(r,void 0,void 0,(function(){var e,r;return m(this,(function(u){switch(u.label){case 0:return n.handleRequest?(e=v.u.fromXHR(this),[4,null===(r=n.handleResponse)||void 0===r?void 0:r.call(n,e,i)]):[3,2];case 1:u.sent(),u.label=2;case 2:return null==t||t.call(this,o),[2]}}))}))}};return new Proxy(u,{get:function(t,l,f){var p=t[l],d="";try{d=typeof p}catch(e){return t[l]}if(e)return"function"===d?function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return p.apply(this===f?t:this,e)}:t[l];try{if("setRequestHeader"===l)return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.append(t[0],t[1])};if("open"===l)return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];o=e[0],r=e[1],t[l].apply(this===f?t:this,e)};if("send"===l)return function(){for(var p=this,d=[],v=0;v<arguments.length;v++)d[v]=arguments[v];if(e)return a.forEach((function(t,e){u.setRequestHeader(e,t)})),void t[l].apply(this===f?t:this,d);w(p,void 0,void 0,(function(){return m(this,(function(e){switch(e.label){case 0:return[4,n.inWhiteList(r)];case 1:return(c=e.sent())?(a.forEach((function(t,e){u.setRequestHeader(e,t)})),t[l].apply(this===f?t:this,d),[2]):n.handleRequest?(i=h.V.fromXHR(this,{headers:a,url:r,method:o,body:d[0]}),[4,n.handleRequest(i)]):[3,3];case 2:return(i=e.sent()).applyOnXHR(u),[3,4];case 3:a.forEach((function(t,e){u.setRequestHeader(e,t)})),e.label=4;case 4:return t.onreadystatechange||(t.onreadystatechange=s(null)),t[l].apply(this===f?t:this,d),[2]}}))}))}}catch(t){}return"function"!==d?t[l]:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return p.apply(this===f?t:this,e)}},set:function(t,n,r){return e?(t[n]=r,!0):"onreadystatechange"===n?(t[n]=s(r),!0):(t[n]=r,!0)}})}}),function(){e=!0}},t.prototype.dispose=function(){var t;null===(t=this.revoke)||void 0===t||t.call(this)},t}(),C=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},O=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},S=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u},I=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},k=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};function P(){return"undefined"!=typeof performance?performance.now():Date.now()}var A,T,R=function(){function t(t){var e=this;this.disposed=!1,this.listenable=new l,this.requestInterceptors=[],this.responseInterceptors=[],this.handleRequest=function(t){return C(e,void 0,void 0,(function(){return O(this,(function(e){switch(e.label){case 0:return[4,this.requestScheduler(t)];case 1:return e.sent(),[2,t]}}))}))},this.handleResponse=function(t,n){return C(e,void 0,void 0,(function(){return O(this,(function(e){switch(e.label){case 0:return[4,this.responseScheduler(t,n)];case 1:return e.sent(),[2]}}))}))},this.inWhiteList=function(t){var n=e.whiteList;return!!n&&(Array.isArray(n)?n.some((function(e){return e===t})):n(t))},this.whiteList=null==t?void 0:t.whiteList,this.fetchPatcher=new g({handleRequest:this.handleRequest,handleResponse:this.handleResponse,whiteList:this.inWhiteList}),this.xhrPatcher=new E({handleRequest:this.handleRequest,handleResponse:this.handleResponse,whiteList:this.inWhiteList})}return t.prototype.setInterceptors=function(t,e){t&&(this.requestInterceptors=I([],S(t),!1)),e&&(this.responseInterceptors=I([],S(e),!1))},t.prototype.appendInterceptors=function(t,e){var n,r;t&&(n=this.requestInterceptors).push.apply(n,I([],S(t),!1)),e&&(r=this.responseInterceptors).push.apply(r,I([],S(e),!1))},t.prototype.addListener=function(t){return this.listenable.addListener(t)},t.prototype.requestScheduler=function(t){return C(this,void 0,Promise,(function(){var e,n,r;return O(this,(function(o){switch(o.label){case 0:return this.requestInterceptors.length?(e=[],n=I([],S(this.requestInterceptors),!1),r=P(),[4,this.runScheduler("Request",[t],e,n)]):[2];case 1:return o.sent(),this.listenable.notifyListeners({eventName:"SchedulerDone",data:{type:"request",duration:P()-r,done:e.map((function(t){return t.key})),pending:n.map((function(t){return t.key}))}}),[2]}}))}))},t.prototype.responseScheduler=function(t,e){return C(this,void 0,Promise,(function(){var n,r,o;return O(this,(function(i){switch(i.label){case 0:return this.responseInterceptors.length?(n=[],r=I([],S(this.responseInterceptors),!1),o=P(),[4,this.runScheduler("Response",[t,e],n,r)]):[2];case 1:return i.sent(),this.listenable.notifyListeners({eventName:"SchedulerDone",data:{type:"response",duration:P()-o,done:n.map((function(t){return t.key})),pending:r.map((function(t){return t.key}))}}),[2]}}))}))},t.prototype.runScheduler=function(t,e,n,r){var o;return C(this,void 0,void 0,(function(){var i,u,a,c,s,l,f,p,d,h,v,y,b,g,_,w,m,E,C,A,T,R,N,L,D,x,M=this;return O(this,(function(O){if(!r.length)return[2];u="do".concat(t,"Interceptor"),a=t.toLowerCase(),c=new Promise((function(t){return i=t})),s=[],l={};try{for(f=k(n),p=f.next();!p.done;p=f.next())A=p.value,l[A.key]=!0}catch(t){T={error:t}}finally{try{p&&!p.done&&(R=f.return)&&R.call(f)}finally{if(T)throw T.error}}for(d=r.length-1;d>=0;){if(A=r[d],null==(h=null===(o=A.dependencies)||void 0===o?void 0:o[a])?void 0:h.length){v=!0;try{for(N=void 0,y=k(h),b=y.next();!b.done;b=y.next())if("string"==typeof(g=b.value)){if(!l[g]){v=!1;break}}else if(!l[g.key]){v=!1;break}}catch(t){N={error:t}}finally{try{b&&!b.done&&(L=y.return)&&L.call(y)}finally{if(N)throw N.error}}v&&(s.push(A),r.splice(d,1))}else s.push(A),r.splice(d,1);d--}if(!s.length)return[2];_=0,w=function(){_===s.length&&(null==i||i())},m=function(o){var i=P();o[u].apply(o,I([],S(e),!1)).promise.then((function(u){var c=u.success,s=u.reason,l=u.result,f=u.message,p=P()-i;M.listenable.notifyListeners({eventName:"InterceptorFinish",data:{key:o.key,type:a,success:c,duration:p,reason:s,message:f}}),c?(n.push(o),!0===l&&M.runScheduler(t,e,n,r).then((function(){_++,w()}))):(_++,w())}))};try{for(E=k(s),C=E.next();!C.done;C=E.next())A=C.value,m(A)}catch(t){D={error:t}}finally{try{C&&!C.done&&(x=E.return)&&x.call(E)}finally{if(D)throw D.error}}return[2,c]}))}))},t.prototype.dispose=function(){this.disposed=!0,this.listenable.dispose(),this.fetchPatcher.dispose(),this.xhrPatcher.dispose()},t}(),N=n(3788),L=n(2463),D=n(4622),x=n(9936),M=n(2074),U=n(5958),F=n(5713),j=n(2727),B=n(9051),H=n(7899),G=n(2442);!function(t,e,n){function r(t,e){var n=parseInt(t.slice(e,e+2),16);return n>>>7==0?[1,n]:n>>>6==2?(n=(63&n)<<8,[2,n+=parseInt(t.slice(e+2,e+4),16)]):(n=(63&n)<<16,[3,n+=parseInt(t.slice(e+2,e+6),16)])}var o,i=0,u=[],a=[];for(o=0;o<4;++o)i+=(3&parseInt(t.slice(8+2*o,10+2*o),16))<<2*o;var c=parseInt(t.slice(16,24),16),s=2*parseInt(t.slice(32,40),16);for(o=40;o<s+40;o+=2)u.push(parseInt(t.slice(o,o+2),16));var l=s+40,f=parseInt(t.slice(l,l+4),16);for(l+=4,o=0;o<f;++o){var p=r(t,l);l+=2*p[0];for(var d="",h=0;h<p[1];++h){var v=r(t,l);d+=String.fromCharCode(i^v[1]),l+=2*v[0]}a.push(d)}e.p=null,function t(e,n,r,o,i){var c,s,l,f,p,d=-1,h=[],v=[0,null],y=null,b=[n];for(s=Math.min(n.length,r),l=0;l<s;++l)b.push(n[l]);b.p=o;for(var g=[];;)try{switch(u[e++]){case 35:h[++d]=!0;break;case 32:h[++d]=!1;break;case 14:h[++d]=null;break;case 50:c=u[e++],h[++d]=c<<24>>24;break;case 6:c=(u[e]<<8)+u[e+1],e+=2,h[++d]=c<<16>>16;break;case 67:c=((c=((c=u[e++])<<8)+u[e++])<<8)+u[e++],h[++d]=(c<<8)+u[e++];break;case 47:c=(u[e]<<8)+u[e+1],e+=2,h[++d]=a[c];break;case 10:h[++d]=void 0;break;case 7:h[++d]=i;break;case 72:c=(u[e]<<8)+u[e+1],e+=2,d=d-c+1,s=h.slice(d,d+c),h[d]=s;break;case 1:h[++d]={};break;case 61:c=(u[e]<<8)+u[e+1],e+=2,s=a[c],l=h[d--],h[d][s]=l;break;case 41:for(s=u[e++],l=u[e++],f=b;s>0;--s)f=f.p;h[++d]=f[l];break;case 0:c=(u[e]<<8)+u[e+1],e+=2,s=a[c],h[d]=h[d][s];break;case 73:s=h[d--],h[d]=h[d][s];break;case 34:for(s=u[e++],l=u[e++],f=b;s>0;--s)f=f.p;f[l]=h[d--];break;case 9:s=h[d--],l=h[d--],f=h[d--],l[s]=f;break;case 23:for(s=u[e++],l=u[e++],f=b,f=b;s>0;--s)f=f.p;h[++d]=f,h[++d]=l;break;case 66:s=h[d--],h[d]+=s;break;case 15:s=h[d--],f=(l=h[d--])[s]--,h[++d]=f;break;case 52:s=h[d--],h[d]=h[d]===s;break;case 13:s=h[d--],h[d]=h[d]!==s;break;case 2:s=h[d--],h[d]=h[d]>s;break;case 37:h[d]=!h[d];break;case 38:c=(c=(u[e]<<8)+u[e+1])<<16>>16,e+=2,h[d]?--d:e+=c;break;case 39:c=(c=(u[e]<<8)+u[e+1])<<16>>16,e+=2,h[d]?e+=c:--d;break;case 59:s=h[d--],(l=h[d--])[s]=h[d];break;case 74:h[d]=void 0;break;case 65:h[d]=typeof h[d];break;case 29:c=u[e++],s=h[d--],(l=function t(){var e=t._u,n=t._v;return e(n[0],arguments,n[1],n[2],this)})._v=[s,c,b],l._u=t,h[++d]=l;break;case 17:c=(c=(u[e]<<8)+u[e+1])<<16>>16,e+=2,(s=g[g.length-1])[1]=e+c;break;case 33:c=(c=(u[e]<<8)+u[e+1])<<16>>16,e+=2,(s=g[g.length-1])&&!s[1]?(s[0]=3,s.push(e)):g.push([1,0,e]),e+=c;break;case 27:c=(c=(u[e]<<8)+u[e+1])<<16>>16,e+=2,g.push([2,0,e]),e+=c;break;case 8:throw s=h[d--];case 46:if(l=(s=g.pop())[0],f=v[0],1===l)e=s[1];else if(0===l)if(0===f)e=s[1];else{if(1!==f)throw v[1];if(!y)return v[1];e=y[1],i=y[2],b=y[3],g=y[4],h[++d]=v[1],v=[0,null],y=y[0]}else e=s[2],s[0]=0,g.push(s);break;case 49:for(s=h[d--],l=null;f=g.pop();)if(2===f[0]||3===f[0]){l=f;break}if(l)v=[1,s],e=l[2],l[0]=0,g.push(l);else{if(!y)return s;e=y[1],i=y[2],b=y[3],g=y[4],h[++d]=s,v=[0,null],y=y[0]}break;case 12:d-=c=u[e++],l=h.slice(d+1,d+c+1),s=h[d--],f=h[d--],s._u===t?(s=s._v,y=[y,e,i,b,g],e=s[0],null==f&&(f=function(){return this}()),i=f,(b=[l].concat(l)).length=Math.min(s[1],c)+1,b.p=s[2],g=[]):(p=s.apply(f,l),h[++d]=p);break;case 40:e+=2+(c=(c=(u[e]<<8)+u[e+1])<<16>>16);break;case 11:c=(c=(u[e]<<8)+u[e+1])<<16>>16,e+=2,(s=h[d--])||(e+=c);break;case 55:--d;break;case 20:s=h[d],h[++d]=s;break;default:throw new Error("ioe")}}catch(t){for(v=[0,null];(c=g.pop())&&!c[0];);if(!c){t:for(;y;){for(s=y[4];c=s.pop();)if(c[0])break t;y=y[0]}if(!y)throw t;e=y[1],i=y[2],b=y[3],g=y[4],y=y[0]}1===(s=c[0])?(e=c[2],c[0]=0,g.push(c),h[++d]=t):2===s?(e=c[2],c[0]=0,g.push(c),v=[3,t]):(e=c[3],c[0]=2,g.push(c),h[++d]=t)}}(c,[],0,e,n)}("504B010156f408ac000002b2ac0bf65500000301290200412f00013426000a29000129020000000249220003290003250b000429000131290003140000032900010c012200044800002200061b00411b000e2900070b0007290007000004082e11002c2900052600072900050000052526000b2900042f0006491700033b0b000d290003140000032900040c01372e2e21000e220008012900083d00042200072e11003c29000232004a342700071700020f320002260011290004140000070c001700053b000005250b0013290006140000082900050000090c013728ffc52e290006312902011400000a2901021400000b43000001281d02010c020c012200020e290208290002290002420c012200030e2902022900020c012200042f000d1400000e2900032f000f0c021400000e2900040c01220005290005312901011400000c2900020c01220003290003250b0004290001312900032900012900020929000131290002140000100c000600c83427001c290002140000100c000601933426000c290002140000112902120c01250b000223312f000d22000321000422000c2e1100160e2902032900011400000c29020e0c010c012200032e290003250b000220310e2901012900030e3427000729000332004a340b000632004a28000c290003140000122f000f0c0132020c02220004290004320049220005290004320149220006290006250b0002203121000622000d20312e11000d0e2902042900060c012200072e0e290208290007290007420c012900050d2200082900080b000220310e2902092900070c01220009290205140000132900090c011400000b43000002761d02010c0222000a29010314000015430000028e1d010c0122000b29000b0b00022031233129010929000249290001290002140000140c0009290001312901011400000c2900010c012600142901011400000c2900010c0129010a290001490d31072600040700000027000743000000001d0222000129010b29010d29010f29011029010c48000522000229011129010729010a48000322000343000000d01d0122011343000001501d022201140a310016065d5d706763660864776c61766b6d6c086b76677063766d700461636e6e056770706d7004666d6c670670677677706c046c677a76047277716a0574636e7767097176706b6c656b647b06706766776167036567760006616d6c61637602242409656776517663767771096567764a67636667700571726e6b760469677b710b766d4e6d7567704163716704716d6f67",{0:Symbol,1:JSON,get 2(){return btoa},3:decodeURIComponent,get 4(){return atob},5:Object,get 6(){return B._},get 7(){return F.d},get 8(){return u()},get 9(){return H.a},get 10(){return G.sb},get 11(){return G.zg},get 12(){return G.eM},get 13(){return G.Ny},get 14(){return G.dE},get 15(){return G.EG},get 16(){return G._E},get 17(){return G.qw},get 18(){return G.oX},get 19(){return A},set 19(t){A=t},get 20(){return T},set 20(t){T=t}},void 0);var W=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),q=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},V=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},K=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u},Y=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},J='{"actions":[{"name":"'.concat(N.Jg.SignatureFailure,'","params":{}}]}'),Z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dependencies={request:["LarkGatewayInterceptor"]},e.request=function(t){return q(e,void 0,Promise,(function(){var e,n,r,i;return V(this,(function(u){switch(u.label){case 0:return[4,this.doNotIntercept(t.absoluteURL)];case 1:return u.sent()?[2,!0]:(t.setHeader(G.Ny,encodeURIComponent(a.u.options.passportId)),t.setHeader(G.zg,encodeURIComponent(G.Gd.LSC_VERSION_HEADER)),o.Ru||t.setHeader(G.EG,encodeURIComponent(G.Gd.TERMINAL_HEADER)),[4,a.u.getConfig()]);case 2:return e=null===(i=null===(r=u.sent())||void 0===r?void 0:r.featureSwitch)||void 0===i?void 0:i.signature_check_frontend,!o.Ru&&e&&(n=this.getToken(t),t.setHeader(G.qw,n)),[2,!0]}}))}))},e.response=function(t,n){return q(e,void 0,Promise,(function(){var e,r,o,i,u,c,s,l,f,p,d,h;return V(this,(function(v){switch(v.label){case 0:return[4,this.doNotIntercept()];case 1:return v.sent()?[2,!0]:[4,a.u.getConfig()];case 2:return e=v.sent(),r=null==e?void 0:e.securityWebDomain,e?(o=t.getHeader(G.oX),i=t.getHeader(G.sb),[4,this.validateToken(t,n)]):(this.error("".concat(n.url.toString())),[2,!0]);case 3:return!v.sent()&&(i=J),u=(0,G.JT)(i).actions,c=null===(d=u[0])||void 0===d?void 0:d.name,s=a.u.options.passportId,l=a.u.options.language,f={appid:s,language:l,redirectUrl:(null===(h=null===window||void 0===window?void 0:window.location)||void 0===h?void 0:h.href)||"",actions:u},p=function(){(0,j.Z)({urlParams:f,securityWebDomain:r,lscCode:o,lscDecision:i,appId:s})},[N.Jg.SignatureFailure].includes(c)&&r?(U.j4.beaconEvent("cond_access_server_decision",{type:"success",code:o,action_name:c}),L.u.has(M.ST.SIGNATURE_FAILURE)?(L.u.emit(M.ST.SIGNATURE_FAILURE,{lscCode:o,lscDecision:i,appId:s,doRedirect:function(){return(0,j.Z)({urlParams:f,securityWebDomain:r,lscCode:o,lscDecision:J,appId:s})}}),[2,!0]):((0,j.Z)({urlParams:f,securityWebDomain:r,lscCode:o,lscDecision:J,appId:s}),[2,!1])):o?0===u.length?(U.j4.send("cond_access_server_decision",{type:"error",code:o}),this.error("".concat(n.url.toString(),":").concat(x.Rm.NO_ACTION_IN_RESPONSE_HEADER,":").concat(i)),[2,!0]):[N.Jg.Network,N.Jg.MFA,N.Jg.DeviceState,N.Jg.DeviceOwn].includes(c)&&o===F.d&&r?(U.j4.beaconEvent("cond_access_server_decision",{type:"success",code:o,action_name:c}),L.u.has(M.ST.CONDITIONAL_ACCESS)?(L.u.emit(M.ST.CONDITIONAL_ACCESS,{lscCode:o,lscDecision:i,appId:s,doRedirect:p}),[2,!0]):(p(),[2,!1])):[2,!0]:[2,!0]}}))}))},e}return W(e,t),e.prototype.getToken=function(t){var e=t.headerEntries();return A(new Headers(Y([],K(e),!1)))},e.prototype.validateToken=function(t,e){var n;return q(this,void 0,Promise,(function(){var r,o,i;return V(this,(function(u){switch(u.label){case 0:return!e.url.toString().includes("lark/scs/compliance/ping")||e.url.toString().includes("ping_tenant_restriction")?[2,!0]:[4,a.u.getConfig()];case 1:return r=u.sent(),(null===(n=null==r?void 0:r.featureSwitch)||void 0===n?void 0:n.signature_check_frontend)?(o=t.headerEntries(),i=e.headerEntries(),[2,T(new Headers(Y(Y([],K(o),!1),K(i),!1)),t)]):[2,!0]}}))}))},e.prototype.doNotIntercept=function(t){return q(this,void 0,Promise,(function(){var e;return V(this,(function(n){switch(n.label){case 0:return[4,a.u.getConfig()];case 1:return((e=n.sent())||(null==t?void 0:t.includes(window.location.host)))&&e.sdkSwitch?[2,!1]:[2,!0]}}))}))},e.prototype.error=function(t,e){void 0===e&&(e=""),(0,U.DO)({funcName:"",args:[],error:void 0,type:"error",cause:t,stack:e})},e.key="ConditionalAccessInterceptor",e}(D.n),Q=n(213),X=n(2345),z=n(1720),$=n(4455),tt=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),et=function(t,e,n,r){var o,i=arguments.length,u=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(u=(i<3?o(u):i>3?o(e,n,u):o(e,n))||u);return i>3&&u&&Object.defineProperty(e,n,u),u},nt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},rt=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},ot=function(t){function e(){var e=t.call(this)||this;return e.initTimer(),e.onVisibilityChange(),e}var n;return tt(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return new n},enumerable:!1,configurable:!0}),e.prototype.initTimer=function(t){var e;return nt(this,void 0,Promise,(function(){var n,r;return rt(this,(function(o){switch(o.label){case 0:return[4,a.u.getConfig()];case 1:return n=o.sent(),r=null===(e=null==n?void 0:n.featureParams)||void 0===e?void 0:e.heartbeatInterval,this.addTimer({handler:this.ping.bind(this),interval:t||r||z.l3.interval,immediate:!0}),[2]}}))}))},e.prototype.ping=function(){var t,e;return nt(this,void 0,void 0,(function(){var n,r,o,i,u;return rt(this,(function(c){switch(c.label){case 0:return[4,a.u.getConfig()];case 1:return n=c.sent(),r=null==n?void 0:n.securityApiDomain,o=null===(t=null==n?void 0:n.featureSwitch)||void 0===t?void 0:t.heartbeat,i=null===(e=null==n?void 0:n.featureParams)||void 0===e?void 0:e.heartbeatInterval,n&&r?this.heartbeatOn!==o&&void 0!==this.heartbeatOn?(this.clearAllTimers(),u=o?i:36e5,this.initTimer(u),this.heartbeatOn=o,[2]):(this.heartbeatOn=o,this.heartbeatOn?((0,X.q)(r),[2]):[2]):[2]}}))}))},e=n=et([(0,Q.p)()],e)}($.N),it=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},ut=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},at=[/\/settings\/v3/,/\/monitor_browser\/collect\/batch/,/\/space\/api\/v2\/sheet\/sub_block/,/\/space\/api\/v2\/sheet\/client_vars/,/\/client_vars/,/\/space\/api\/v2\/sheet\/formula_cache/,/\/space\/api\/suite\/permission\/user\/mget/,/\/space\/api\/suite\/permission\/document\/actions\/state/,/\/vc\/api\/custom_level\/first_screen/,/\/space\/api\/comment\/message_box\/get_init_data/,/\/space\/api\/ccm_setting\/get/,/\/space\/api\/user/,/.*\.js/,/\/lark\/security\/internal\/terminal\/intranet\/token/,/\/lark\/security\/terminal\/intranet\/service_info/];function ct(t,e){return void 0===t&&(t=[]),t.some((function(t){return function(t,e){return void 0===e&&(e=""),new RegExp(t.replace(/[\[\]\\{}()+*?.$^|]/g,(function(t){return"\\".concat(t)})),e)}(t.pattern,t.flags).test(e)}))}function st(t){return it(this,void 0,Promise,(function(){var e,n,r,o,i,u,c,s;return ut(this,(function(l){switch(l.label){case 0:try{e=new URL(t,window.location.origin).href}catch(n){e=t}return at.some((function(t){return t.test(e)}))?[2,!0]:[4,a.u.getConfig()];case 1:return(n=l.sent())?(r=n.whiteList,i=(o=r||{}).userAgent,u=o.locationSearch,ct(i,null===navigator||void 0===navigator?void 0:navigator.userAgent)||ct(u,null===location||void 0===location?void 0:location.search)?[2,!0]:(c=function(t){var e=a.u.options.baseDomain,n=t.whiteList||{},r=n.requestUrl,o=n.shouldInterceptUrl,i=null==r?void 0:r.map((function(t){return{pattern:t.pattern.replace(/{{baseDomain}}/,e),flags:t.flags}}));return{shouldInterceptUrls:null==o?void 0:o.map((function(t){return{pattern:t.pattern.replace(/{{baseDomain}}/,e),flags:t.flags}})),shouldnotInterceptUrls:i}}(n),s=c.shouldnotInterceptUrls,[2,!ct(c.shouldInterceptUrls,e)||ct(s,e)])):[2,!0]}}))}))}function lt(t){return it(this,void 0,Promise,(function(){var e,n;return ut(this,(function(r){switch(r.label){case 0:return e=function(t){if(!(0,f.Z)(t))return!1;var e=p(t.split(":"),2),n=e[0];return!e[1]||"http"===n||"https"===n}(t),(n=!e)?[3,2]:[4,st(t)];case 1:n=r.sent(),r.label=2;case 2:return[2,n]}}))}))}var ft,pt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},dt=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},ht=function(){var t,e;try{return(null===(e=null===(t=a.u.getConfigSync())||void 0===t?void 0:t.featureSwitch)||void 0===e?void 0:e.disableInterceptor)?null:(ft||(ft=new R({whiteList:lt})),ft)}catch(t){return null}},vt=function(){var t;new ot;var e=new Z;null===(t=ht())||void 0===t||t.setInterceptors([e],[e])},yt=function(t){var e,n=t.baseDomain,r=((e={})[G._E]=encodeURIComponent(o.rD),e[G.eM]=encodeURIComponent(o.oU),e),i=JSON.stringify(r),a=u()(i+i),s=btoa(i),l="".concat(a,"&&").concat(s);r[G.qw]=l,Object.keys(r).forEach((function(t){var e=r[t];(0,c.d8)({key:t,value:e,domain:n})}))},bt=function(t){var e=t.baseDomain;[G._E,G.eM,G.qw].forEach((function(t){return(0,c.kT)({key:t,domain:e})}))},gt=function(){n.e(82).then(n.bind(n,5440)).then((function(t){return new(0,t.LoginRestriction)}))},_t=function(){return pt(void 0,void 0,Promise,(function(){var t,e;return dt(this,(function(r){switch(r.label){case 0:return[4,a.u.getConfig()];case 1:return t=r.sent(),(null===(e=null==t?void 0:t.featureSwitch)||void 0===e?void 0:e.web_did_check)&&n.e(303).then(n.bind(n,5322)).then((function(t){return new(0,t.WebdidSecurityCheck)})),[2]}}))}))},wt=function(){return pt(void 0,void 0,Promise,(function(){var t,e;return dt(this,(function(r){switch(r.label){case 0:return[4,a.u.getConfig()];case 1:return t=r.sent(),(null===(e=null==t?void 0:t.featureSwitch)||void 0===e?void 0:e.web_fingerprint_collect)&&n.e(303).then(n.bind(n,9158)).then((function(t){return new(0,t.Fingerprint)})),[2]}}))}))}},2442:function(t,e,n){"use strict";n.d(e,{DH:function(){return w},EG:function(){return c},Gd:function(){return u},Ig:function(){return D},JT:function(){return i},Ny:function(){return s},Pj:function(){return L},Rg:function(){return y},T9:function(){return m},UA:function(){return _},Wh:function(){return T},_E:function(){return f},bH:function(){return k},cy:function(){return x},dE:function(){return S},e8:function(){return P},eM:function(){return p},h7:function(){return v},md:function(){return b},o7:function(){return h},oX:function(){return O},pX:function(){return I},qA:function(){return d},qw:function(){return l},sb:function(){return C},sh:function(){return E},w5:function(){return R},xD:function(){return A},xH:function(){return g},zg:function(){return a},zk:function(){return N}});var r=n(3788),o=n(7899),i=function(t){var e=(0,o.a)(t),n=(null==e?void 0:e.actions)||[];return e&&!(null==e?void 0:e.effect)&&(e.effect=r.Qm.Deny),{decision:e,actions:n}},u={TERMINAL_HEADER:"web",LSC_VERSION_HEADER:"1"},a="x-lsc-version",c="x-lsc-terminal",s="x-lsc-bizid",l="x-lsc-token",f="x-lgw-terminal-type",p="x-lgw-os-type",d="x-lgw-app-version",h="x-lgw-device-id",v="x-lgw-os-version",y="x-lgw-device-type",b="x-lgw-install-id",g="x-lgw-locale",_="x-lgw-app-id",w="x-lgw-user-id",m="x-lgw-sec-token",E="x-lgw-csrf-token",C="x-lsc-decision",O="x-lsc-code",S="x-lsc-resp-token",I="x-lsc-source-ip",k="x-passport-dpop",P="x-passport-dpop-certificate",A="x-passport-dpop-decision",T="lark-policy-sdk-crypto-store",R="lmp_crypto_cache",N="lmp_key_pair_v2",L="lmp_certificate_key",D=403,x="lgw_csrf_token"},5533:function(t,e,n){"use strict";n.d(e,{B:function(){return u}});var r=n(3742),o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u},i=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},u=function(){return function(t,e,n){var u=n.value;n.value=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!r.u.hasInited())throw Error("Please use policySdk.init({...}) first !");return u.apply(this,i([],o(t),!1))}}}},3742:function(t,e,n){"use strict";n.d(e,{u:function(){return T}});var r,o=n(3031),i=n(9972),u=n(4821),a=n(2074),c=n(6379),s=n(4720),l=n(213),f=n(2463),p=n(9208),d=n(9892),h=n(5958),v=function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},y=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},b=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},g=function(t){return y(void 0,void 0,Promise,(function(){var e,n,r,o,i,u,c,s,l,f,p,y,g,_,w,m,E,C,O,S,I,k,P,A,R,N,L,D,x,M,U,F,j,B,H,G,W,q,V,K,Y,J,Z,Q,X,z,$,tt,et,nt,rt,ot,it,ut,at,ct,st,lt,ft,pt,dt,ht,vt,yt,bt,gt,_t,wt,mt,Et,Ct,Ot,St,It;return b(this,(function(b){switch(b.label){case 0:if(n=(e=t||{}).settingDomain,r=e.passportId,o=e.devSdkConfig,i=e.env,!n)throw Error("empty settingDomain");return u=function(t,e){void 0===e&&(e="");var n=d.Ru?"pc":"web";return t||(0,h.DO)({error:"getConfigApiUrl: settingDomain not available (passportId: ".concat(e,", platform: ").concat(n,")"),type:"Error",funcName:"getConfigApiUrl",args:[]}),"https://".concat(t,"/settings/v3/?platform=").concat(n,"&app_id=").concat(e,"&version=5.7.0&tags=policy_sdk_config&fg_tags=policy_sdk_config")}(n,r),i===a.qA.development&&o?(c=o,[3,5]):[3,1];case 1:return T.requestMethod?[3,5]:[3,2];case 2:return[4,fetch(u,{credentials:"include"})];case 3:return[4,b.sent().json()];case 4:c=b.sent(),b.label=5;case 5:if(s=null===(L=null===(N=null===(R=null==c?void 0:c.data)||void 0===R?void 0:R.biz_domain_config)||void 0===N?void 0:N.security_and_compliance)||void 0===L?void 0:L[0],l=null===(M=null===(x=null===(D=null==c?void 0:c.data)||void 0===D?void 0:D.biz_domain_config)||void 0===x?void 0:x.security_login_restriction)||void 0===M?void 0:M[0],f=null===(j=null===(F=null===(U=null==c?void 0:c.data)||void 0===U?void 0:U.biz_domain_config)||void 0===F?void 0:F.passport_accounts)||void 0===j?void 0:j[0],p=null===(G=null===(H=null===(B=null==c?void 0:c.data)||void 0===B?void 0:B.biz_domain_config)||void 0===H?void 0:H.passport_page)||void 0===G?void 0:G[0],y=null===(V=null===(q=null===(W=null==c?void 0:c.data)||void 0===W?void 0:W.biz_domain_config)||void 0===q?void 0:q.passport_accounts_nomg)||void 0===V?void 0:V[0],g=null===(J=null===(Y=null===(K=null==c?void 0:c.data)||void 0===K?void 0:K.biz_domain_config)||void 0===Y?void 0:Y.security_web)||void 0===J?void 0:J[0],_=null===(X=null===(Q=null===(Z=null==c?void 0:c.data)||void 0===Z?void 0:Z.biz_domain_config)||void 0===Q?void 0:Q.scs_data)||void 0===X?void 0:X[0],w=null===(tt=null===($=null===(z=null==c?void 0:c.data)||void 0===z?void 0:z.biz_domain_config)||void 0===$?void 0:$.lgw_csrf_domain)||void 0===tt?void 0:tt[0],m=null===(et=null==c?void 0:c.data)||void 0===et?void 0:et.sec_sdk_web,E=null===(ot=null===(rt=null===(nt=null==c?void 0:c.data)||void 0===nt?void 0:nt.biz_domain_config)||void 0===rt?void 0:rt.suite_bdmssdk)||void 0===ot?void 0:ot[0],C=null===(at=null===(ut=null===(it=null==c?void 0:c.data)||void 0===it?void 0:it.session_dpop)||void 0===ut?void 0:ut.path)||void 0===at?void 0:at.whiteList,O=null===(lt=null===(st=null===(ct=null==c?void 0:c.data)||void 0===ct?void 0:ct.session_dpop)||void 0===st?void 0:st.path)||void 0===lt?void 0:lt.blackList,S=null===(dt=null===(pt=null===(ft=null==c?void 0:c.data)||void 0===ft?void 0:ft.biz_domain_config)||void 0===pt?void 0:pt.applink)||void 0===dt?void 0:dt[0],I=null===(yt=null===(vt=null===(ht=null==c?void 0:c.data)||void 0===ht?void 0:ht.biz_domain_config)||void 0===vt?void 0:vt.help_center)||void 0===yt?void 0:yt[0],k=null===(_t=null===(gt=null===(bt=null==c?void 0:c.data)||void 0===bt?void 0:bt.biz_domain_config)||void 0===gt?void 0:gt.sec_slardar_cdn)||void 0===_t?void 0:_t[0],P=null===(Et=null===(mt=null===(wt=null==c?void 0:c.data)||void 0===wt?void 0:wt.biz_domain_config)||void 0===mt?void 0:mt.sec_slardar_report)||void 0===Et?void 0:Et[0],A=null===(St=null===(Ot=null===(Ct=null==c?void 0:c.data)||void 0===Ct?void 0:Ct.biz_domain_config)||void 0===Ot?void 0:Ot.sec_tea_report)||void 0===St?void 0:St[0],!s)throw Error("empty api domain");return[2,v(v({},null===(It=null==c?void 0:c.data)||void 0===It?void 0:It.policy_jssdk),{securityApiDomain:s,securityWebDomain:g,securityDataDomain:_,passportAccountsDomain:f,passportAccountsDomainNoMg:y,securityLoginRestrictionApiDomain:l,csrfApiDomain:w,secSdkWeb:m,bdmsSdkApiDomain:E,sessionDPoP:{whiteList:C,blackList:O},applink:S,helpcenter:I,domains:{passport_page:p,slardar_cdn:k,slardar_report:P,tea_report:A}})]}}))}))},_=n(9936),w=n(1720),m=n(4455),E=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),C=function(t){function e(){var e=t.call(this)||this;return e.onVisibilityChange(),e}return E(e,t),e}(m.N),O=n(2515),S=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),I=function(){return(I=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},k=function(t,e,n,r){var o,i=arguments.length,u=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(u=(i<3?o(u):i>3?o(e,n,u):o(e,n))||u);return i>3&&u&&Object.defineProperty(e,n,u),u},P=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},A=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n,r;return S(e,t),n=e,e.prototype.setRequestMethod=function(t){this.requestMethod=t},Object.defineProperty(e.prototype,"options",{get:function(){return this._options?I({},this._options):{}},enumerable:!1,configurable:!0}),e.prototype.handleOnOptionsChange=function(t,e){(null==e?void 0:e.userId)&&(null==t?void 0:t.userId)!==e.userId&&((0,O.I)(e.userId),(0,h.e3)().then((function(t){t.updateConfig({userId:e.userId}),t.eventInfoWithLog("config update",{})})),f.u.emit(a.GE.SDK_LOGIN,e.userId),(null==t?void 0:t.userId)&&f.u.emit(a.GE.TENANT_SWITCH,e))},Object.defineProperty(e,"instance",{get:function(){return new n},enumerable:!1,configurable:!0}),e.prototype.hasInited=function(){return Object.keys(this.options).length>0},e.prototype.initOptions=function(t){return!this.hasInited()&&(this._options=t,!0)},e.prototype.setOptions=function(t){if(!this.hasInited())throw Error("Please initOptions first!");return this._options=I(I({},this._options),t),I({},this._options)},e.prototype.queryInfos=function(){var t=this;this.getConfig().then((function(e){var n;(null===(n=null==e?void 0:e.featureSwitch)||void 0===n?void 0:n.signature_check_frontend)?(0,p.Ct)(t.options):(0,p.FD)(t.options)}))},e.prototype.setupTimers=function(){return P(this,void 0,void 0,(function(){var t,e,n,r,o,i=this;return A(this,(function(u){switch(u.label){case 0:return T.clearAllTimers(),[4,this.getConfig()];case 1:return t=u.sent(),f.u.emit(a.GE.SDK_COLD_BOOST,t),e=(null==t?void 0:t.featureParams)||{},n=e.policy_engine_fetch_policy_interval,r=e.queryConfigInterval,this.addTimer({handler:function(){return i.queryConfig()},interval:r||w.sI.interval}),o=n||w.sI.interval,this.addTimer({handler:function(){return f.u.emit(a.GE.STATIC_POINTCUT_POLLING)},interval:o}),[2]}}))}))},e.prototype.getConfig=function(){var t=this;return c.g.getCacheAsync({query:function(){return t.queryConfig()},partition:this.options.userId}).then((function(t){if(t){var e=t.securityApiDomain;if(!e)throw Error(_.cl.GET_SECURITY_API_DOMAIN_ERROR);(0,i.Rv)({baseURL:e.startsWith("http")?e:"https://".concat(e)}),(0,u.gY)({baseURL:e.startsWith("http")?e:"https://".concat(e)})}return t}))},e.prototype.getConfigSync=function(){return c.g.getCache(this.options.userId)||null},e.prototype.queryConfig=function(){return P(this,void 0,void 0,(function(){var t,e,n;return A(this,(function(r){switch(r.label){case 0:return[4,g(this.options)];case 1:return t=r.sent(),e=c.g.getCache(this.options.userId),(n=I(I({},e),t)).securityWebDomain||("empty security web domain@getConfig",(0,h.M2)({error:"empty security web domain@getConfig",type:"Error",funcName:"queryConfig",newSecurityApiDomain:null==t?void 0:t.securityApiDomain,oldSecurityApiDomain:null==e?void 0:e.securityApiDomain,args:[]})),[2,c.g.setCache(this.options.userId,n)]}}))}))},e.prototype.waitUntilFinishLoading=function(t){var e=t.timeout,n=t.interval,r=t.getCache,i=t.setCache,u=t.timeoutDecision;return(0,o.X_)((function(){var t=r();if(!t||(null==t?void 0:t.cache.loading))throw Error(_.cl.GENERAL_QUERY_INFO_TIMEOUT);return t}),{interval:n,timeout:e}).catch((function(t){return(0,h.DO)({error:t,type:"Error",funcName:"waitUntilFinishLoading",args:[e,n,u]}),i({success:!1,loading:!1,fallbackDecision:u,errorMsg:null==t?void 0:t.message,errorStack:null==t?void 0:t.stack})}))},k([(r=function(t,e,n){t.handleOnOptionsChange(e,n)},function(t,e,n){var o,i=null===(o=null==n?void 0:n.initializer)||void 0===o?void 0:o.call(n);return{get:function(){return i},set:function(e){r(t,i,e),i=e}}})],e.prototype,"_options",void 0),k([(0,s.f)({onCatch:function(){return null},onReturn:function(t,e){return e||null}})],e.prototype,"getConfig",null),k([(0,s.f)({onCatch:function(){return null}})],e.prototype,"queryConfig",null),e=n=k([(0,l.p)()],e)}(C).instance},8617:function(t,e,n){"use strict";n.d(e,{E:function(){return v}});var r=n(3788),o=n(213),i=n(3742),u=n(5533),a=n(2074),c=n(5958),s=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},l=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};var f=function(){return(f=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},p=function(t,e,n,r){var o,i=arguments.length,u=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(u=(i<3?o(u):i>3?o(e,n,u):o(e,n))||u);return i>3&&u&&Object.defineProperty(e,n,u),u},d=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},h=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},v=new(function(){function t(){this.plugins={}}return t.prototype.registerPlugin=function(t,e){if(!this.plugins[t.pluginName]){if(!t.pluginName)throw Error("Plugin need static property: pluginName: string, Please add it!");this.plugins[t.pluginName]=new t(i.u.options,e)}},t.prototype.getPluginByName=function(t){return this.plugins[t]},t.prototype.getPluginsBy=function(t){return Object.values(this.plugins).flatMap((function(e){var n,r=null===(n=null==e?void 0:e.match)||void 0===n?void 0:n.call(e,t.map((function(t){return t.policyModel.pointKey})));if(r){var o=new Set(r);return{plugin:e,inputs:t.filter((function(t){return o.has(t.policyModel.pointKey)}))}}return[]}))},t.prototype.execPluginCheckAction=function(t,e){var n=this;return function(t,e){return s(this,void 0,void 0,(function(){var n,r,o,i,u;return l(this,(function(a){switch(a.label){case 0:n=[],r=[],o=0,a.label=1;case 1:if(!(o<t.length))return[3,6];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,e(t[o],o,t)];case 3:return i=a.sent(),n.push(i.result),i.cancel?[3,6]:[3,5];case 4:return u=a.sent(),r.push({item:t[o],error:u}),[3,5];case 5:return o++,[3,1];case 6:return[2,{result:n,errors:r}]}}))}))}(this.getPluginsBy(t),(function(t){return d(n,void 0,void 0,(function(){var n,r;return h(this,(function(o){switch(o.label){case 0:return n=t.plugin,r=t.inputs,[4,e(n,r)];case 1:return[2,{result:o.sent(),cancel:!1}]}}))}))})).then((function(e){var o=e.result,i=e.errors;n.handlePluginError(i);var u=t.reduce((function(t,e){return o.forEach((function(n){var o;if(n){var i=n[e.taskId];if((null==i?void 0:i.effect)===r.Qm.Deny)return void(t[e.taskId]=f(f({},i),{type:a.Up.pluginCalculate}));(null===(o=t[e.taskId])||void 0===o?void 0:o.effect)||(t[e.taskId]=f(f({},i),{type:a.Up.pluginCalculate}))}})),t}),{});return Object.keys(u).length>0&&u}))},t.prototype.execPluginCheckActionSync=function(t,e){var n;return this.getPluginsBy([t]).some((function(t){var o=t.plugin,i=t.inputs,u=e(o,i[0]);return!(!u||(n=u,(null==u?void 0:u.effect)!==r.Qm.Deny))})),!!n&&f(f({},n),{type:a.Up.pluginCalculate})},t.prototype.handlePluginError=function(t){t.length>0&&t.forEach((function(t){(0,c.DO)({funcName:"execPluginCheckAction",error:t.error,args:[t.item.plugin.getPluginName()],type:"Error"})}))},t.prototype.updateOldPastePlugin=function(t,e){var n,r,o=e.options,i=e.pluginProps,u=Object.keys(o).length>0;i&&((null==t?void 0:t.registerProps)&&(t.registerProps=f(f({},t.registerProps),i)),null===(n=null==t?void 0:t.onRegisterPropsChange)||void 0===n||n.call(t,i)),u&&(t.commonProps=f(f({},t.commonProps),o),null===(r=null==t?void 0:t.onCommonPropsChange)||void 0===r||r.call(t,o))},t.prototype.updateProps=function(t){var e=this,n=t.options,r=void 0===n?{}:n,o=t.pluginProps,i=void 0===o?{}:o;Object.keys(this.plugins).forEach((function(t){var n,o=e.plugins[t];e.updateOldPastePlugin(o,{options:r,pluginProps:i[t]}),null===(n=null==o?void 0:o.updateProps)||void 0===n||n.call(o,r,i[t])}))},p([(0,u.B)()],t.prototype,"registerPlugin",null),p([(0,u.B)()],t.prototype,"getPluginByName",null),t=p([(0,o.p)()],t)}())},2106:function(t,e,n){"use strict";n.d(e,{U:function(){return r},W:function(){return o}});var r=function(){},o=function(){function t(t,e){this.commonProps=t,this.pluginProps=e}return t.prototype.match=function(t){var e=this,n=t.filter((function(t){var n;return null===(n=e.pointKeyList)||void 0===n?void 0:n.includes(t)}));return n.length>0&&n},t}()},2345:function(t,e,n){"use strict";n.d(e,{p:function(){return o},q:function(){return r}});var r=function(t){var e=t.startsWith("http")?"".concat(t,"/lark/scs/compliance/ping"):"https://".concat(t,"/lark/scs/compliance/ping");return fetch(e,{method:"GET",credentials:"include"}).then((function(t){return t.text()})).catch((function(){}))},o=function(t){var e=t.startsWith("http")?"".concat(t,"/lark/scs/compliance/ping_tenant_restriction"):"https://".concat(t,"/lark/scs/compliance/ping_tenant_restriction");return fetch(e,{method:"GET",credentials:"include"})}},9936:function(t,e,n){"use strict";n.d(e,{My:function(){return c},N9:function(){return i},Rm:function(){return u},cl:function(){return a},fj:function(){return o}});var r=n(2074),o={frontEngine:100},i=(r.Mi.FileProtect,{NO_DECISION:"NO DECISION",USE_FALLBACK_WITHOUT_CACHE:"FALLBACK ON SYNC OPERATION",CALC_POLICY_FROM_BACKEND_FAIL:"CALC POLICY FROM BACKEND FAIL"}),u={NO_ACTION_IN_RESPONSE_HEADER:"NO ACTION IN RESPONSE HEADER",DECISION_IS_NOT_JSON:"DECISION IS NOT JSON",DECISION_IS_NOT_ARRAY:"DECISION IS NOT ARRAY",RESPONSE_ACTION_NAME_IS_EMPTY:"RESPONSE ACTION NAME IS EMPTY",OVERRITE_FETCH_ERROR:"OVERRITE FETCH ERROR",OVERRITE_XHR_ERROR:"OVERRITE XHR ERROR"},a={PRELOAD_DECISION_ERROR:"Preload decision error, we have report to slardar, you can oncall to follow this problem",BATCH_CHECK_DECISION_ERROR:"Batch check decision error, we have report to slardar, you can oncall to follow this problem",IS_FAST_PASS_ERROR:"Is Fast Pass error, we have report to slardar, you can oncall to follow this problem",LOAD_TENANT_POLICY_ERROR:"Load tenant policy error, we have report to slardar, you can oncall to follow this problem",CHECK_ACTION_ERROR:"Exec checkAction error,  we have report to slardar, you can oncall to follow this problem",GET_SECURITY_API_DOMAIN_ERROR:"Get securityApiDomain error,  we have report to slardar, you can oncall to follow this problem",GENERAL_QUERY_INFO_TIMEOUT:"General query info error, we have report to slardar, you can oncall to follow this problem",QUERY_CONFIG_INFO_TIMEOUT:"Query config info error, we have report to slardar, you can oncall to follow this problem",CALC_RULES_WITHOUT_EXPR:"No expr in condition",PRELOAD_DECISION_MAXIMUM_LIMIT_EXCEEDED:"Batch threshold = 2000 met!",LOAD_SDK_CONFIG_FAIL:"Load Sdk Config Fail, Details:",ENFORCEMENT_REQUEST_ERROR:function(t){return"Enforcement request with error code: ".concat(t)},FEATURE_KEY_NOT_FOUND:"Feature key not found error",DISABLE_FILE_OPERATE_ON:"disable_file_operate key is true"},c={batchThreshold:100,countsPerBatchEnforce:20,countsPerBatchControlCheck:100}},1720:function(t,e,n){"use strict";n.d(e,{Sx:function(){return a},l3:function(){return o},r_:function(){return i},sI:function(){return r},xS:function(){return u}});var r={retryInterval:1e3,timeout:3e3,interval:3e5},o={retryInterval:1e3,timeout:1e4,interval:5e3},i={retryInterval:1e3,timeout:1e4,interval:9e5},u=200,a=500},4455:function(t,e,n){"use strict";n.d(e,{N:function(){return r}});var r=function(){function t(){this.timers=[]}return t.prototype.stopAllTimers=function(){this.timers.forEach((function(t){t.timer&&clearInterval(t.timer)}))},t.prototype.clearAllTimers=function(){this.stopAllTimers(),this.timers=[]},t.prototype.addTimer=function(t){if(!t.interval)throw Error("Please set interval for addTimer !");t.immediate&&t.handler(!0),t.timer=setInterval(t.handler,t.interval),this.timers.push(t)},t.prototype.reStartAllInterval=function(){this.timers.forEach((function(t){t.timer&&(clearInterval(t.timer),t.immediate&&t.handler(!0),t.timer=setInterval(t.handler,t.interval))}))},t.prototype.onVisibilityChange=function(){var t,e=this;"undefined"!=typeof document&&(null===(t=document.addEventListener)||void 0===t||t.call(document,"visibilitychange",(function(){"visible"===document.visibilityState?e.reStartAllInterval():e.stopAllTimers()})))},t}()},2074:function(t,e,n){"use strict";n.d(e,{BN:function(){return s},GE:function(){return o},Hu:function(){return l},JZ:function(){return p},Mi:function(){return i},ST:function(){return r},Up:function(){return a},Vy:function(){return f},dR:function(){return u},lR:function(){return v},qA:function(){return h},yp:function(){return d}});var r,o,i,u,a,c=n(3788),s={effect:c.Qm.Permit,actions:[]},l={effect:c.Qm.NotApplicable,actions:[]},f={effect:c.Qm.Indeterminate,actions:[]},p={effect:c.Qm.Deny,actions:[]};!function(t){t.CONDITIONAL_ACCESS="PUSH_REQ_REGULATE",t.FILE_OPERATION_DENIAL="FILE_OPERATION_DENIAL",t.SIGNATURE_FAILURE="SIGNATURE_FAILURE",t.POLICY_UPDATE="POLICY_UPDATE",t.POINTCUT_UPDATE="POINTCUT_UPDATE",t.WORKFLOW_LOG="WORKFLOW_LOG",t.PRELOAD_DECISION_UPDATE="PRELOAD_DECISION_UPDATE",t.DECISION_UPDATE="DECISION_UPDATE"}(r||(r={})),function(t){t.STATIC_POINTCUT_POLLING="STATIC_POINTCUT_CHECK",t.NETWORK_ONLINE="NETWORK_ONLINE",t.NETWORK_OFFLINE="NETWORK_OFFLINE",t.BACK_TO_FRONT="VISIBILITY_CHANGE",t.TENANT_SWITCH="TENANT_SWITCH",t.SDK_COLD_BOOST="SDK_COLD_BOOST",t.SDK_LOGIN="SDK_LOGIN",t.DEVICE_AUTH_STATUS_CHANGE="DEVICE_AUTH_STATUS_CHANGE",t.LOAD_ENTITY="LOAD_ENTITY"}(o||(o={})),function(t){t.ConditionalAccessPolicy="COND_ACCESS",t.RetentionScopePolicy="RETENTION_SCOPE",t.RetentionDeletePolicy="RETENTION_DELETE",t.DLPPolicy="DLP",t.DLPAsyncPolicy="DLP_ASYNC",t.AlarmBehaviorAudit="ALARM_BEHAVIOR_AUDIT",t.DLPNative="DLP_NATIVE",t.FileProtect="FILE_PROTECT"}(i||(i={})),function(t){t[t.Allow=1]="Allow",t[t.Deny=2]="Deny"}(u||(u={})),function(t){t.frontFastpass="frontFastpass",t.frontFallback="frontFallback",t.backendFallback="backendFallback",t.settingsFallback="settingsFallback",t.frontCalculate="frontCalculate",t.backendCalculate="backendCalculate",t.pluginCalculate="pluginCalculate",t.cache="cache",t.unknown="unknown"}(a||(a={}));var d,h,v=[a.frontCalculate,a.backendCalculate,a.pluginCalculate];!function(t){t.cn="cn",t.sg="sg",t.va="va",t.gcp="gcp",t.private="private"}(d||(d={})),function(t){t.development="development",t.boe="boe",t.online="online"}(h||(h={}))},4118:function(t,e,n){"use strict";n.d(e,{d8:function(){return r},ej:function(){return o},kT:function(){return i}});var r=function(t){var e=t.key,n=t.value,r=t.domain,o=t.path,i=t.expires,u=void 0===i?new Date(Date.now()+2592e6).toUTCString():i,a=["".concat(e,"=").concat(n),r?"domain=".concat(r):"","expires=".concat(u),o?"path=".concat(o):"path=/"];document.cookie=a.filter(Boolean).join(";")},o=function(t){var e=document.cookie;if(!e||!t)return"";var n=e.split(";").find((function(e){return-1!==e.indexOf("".concat(t,"="))}));return n?function(t){try{return-1!==t.indexOf("%")?decodeURIComponent(t):t}catch(e){return t}}(n.trim().slice(t.length+1,n.length)):""},i=function(t){var e=t.key,n=t.domain,r=t.path,o=["".concat(e,"="),n?"domain=".concat(n):"","expires=Thu, 01 Jan 1970 00:00:01 GMT",r?"path=".concat(r):"path=/"];document.cookie=o.filter(Boolean).join(";")}},7899:function(t,e,n){"use strict";n.d(e,{Z:function(){return o},a:function(){return i}});var r=["OBJECT_TENANT_ID","OBJECT_USER_ID","TENANT_ID","USER_ID","CHAT_ID","operatorTenantId","operatorUid","senderTenantId","senderUserId","chatID","type","objectType"],o=function(t){var e=t;return r.forEach((function(t){e=e.replace(new RegExp('"'.concat(t,'":("([0-9]+)")')),'"'.concat(t,'":$2'))})),e},i=function(t,e){void 0===e&&(e={});try{return JSON.parse(t)}catch(t){return e}}},5958:function(t,e,n){"use strict";n.d(e,{j4:function(){return y},e3:function(){return d},Ty:function(){return v},DO:function(){return g},M2:function(){return b}});var r,o=n(2872),i=n(9892),u=n(2074),a=function(){return(0,i.FH)(location.host).brand===i.H2.FEISHU?"cn":"sg"},c=n(2515),s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},l=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},f=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},p={initialize:function(t){},client:function(t,e,n){},sendEvent:function(t,e){},eventErrorWithLog:function(t,e){},eventInfoWithLog:function(t,e){},updateConfig:function(t){}},d=function(){return l(void 0,void 0,void 0,(function(){var t;return f(this,(function(e){switch(e.label){case 0:return(null===o._||void 0===o._?void 0:o._.report)?[4,n.e(611).then(n.bind(n,2500))]:[2,p];case 1:return t=e.sent().LmpReport,r||(r=new t),[2,r]}}))}))};var h=/(?:\/)?(?:space\/|drive\/)?(?:preview\/)?(?:component\/)?([a-zA-Z-_]+)?(?:\/([\w]*))/;var v=function(t,e){var r=t.env,o=t.region,s=t.bid,p=t.passportId,v=t.tenantId,b=function(t){if(void 0===t&&(t=window.location.pathname),t.split("/").filter((function(t){return t})).length<2)return"";var e=h.exec(t);return null==e?void 0:e[2]}();d().then((function(t){var n,l,f;t.initialize({bid:s||"lark_policy_sdk_fe",env:r||((0,i.FH)(location.host).env===i.su.BOE?"boe":"online"),locale:o||a(),unit:(n=o,f=(l={},l[u.yp.cn]=i.fb.CN,l[u.yp.sg]=i.fb.SG,l[u.yp.va]=i.fb.VA,l)[n],f||(0,i.FH)(location.host).unit),userId:c.x,domain:{reportSlardarDomain:null==e?void 0:e.slardar_report,cdnSlardarDomain:null==e?void 0:e.slardar_cdn},reportContext:{release:"6.1.1-canary.x4de6b19c3c",name:"policy-sdk",passportId:p,tenantId:v},plugins:{ajax:{autoWrap:!0,ignoreUrls:["/monitor_browser/collect/batch/"],collectBodyOnError:!1},fetch:{autoWrap:!0,ignoreUrls:["/monitor_browser/collect/batch/"],collectBodyOnError:!1},resource:{slowSessionThreshold:1e6}}})})),d().then((function(t){t.client("on","beforeSend",(function(t){var e,n;return t.common&&b&&(e=t.common,n=b,Object.keys(e).forEach((function(t){var r=e[t];"string"==typeof r&&-1!==r.indexOf(n)&&(e[t]=e[t].replace(n,"***"))}))),t}))}));var g=function(){return l(void 0,void 0,void 0,(function(){var t,r;return f(this,(function(i){switch(i.label){case 0:return t=function(t){var n=t.tracker,r=o||a();try{n.init({userId:c.x,channel:r,channelDomain:null==e?void 0:e.tea_report}),n.update({userId:c.x,passport_id:p,tenant_id:v,version:"6.1.1-canary.x4de6b19c3c"}),y=n}catch(t){}},[4,n.e(611).then(n.bind(n,9044))];case 1:return r=i.sent().tracker,t({tracker:r}),[2]}}))}))};try{(void 0)(g)}catch(t){g()}},y={send:function(t,e){},beaconEvent:function(t,e){}},b=function(t){try{d().then((function(e){e.sendEvent({name:"policy_sdk_report",categories:s(s({},t),{logCreateAt:(new Date).getTime()})})}))}catch(t){}},g=function(t){var e;b(s(s({},t),{errorMsg:null===(e=t.error)||void 0===e?void 0:e.message}))}},2515:function(t,e,n){"use strict";var r;n.d(e,{I:function(){return o},x:function(){return r}});var o=function(t){r=t}},7348:function(t,e,n){"use strict";n.d(e,{j:function(){return r}});var r={isFullUpdate:!1}},2872:function(t,e,n){"use strict";n.d(e,{_:function(){return r}});var r=new(function(){function t(){}return Object.defineProperty(t.prototype,"policyWorker",{get:function(){return this.mPolicyWorker},set:function(t){this.mPolicyWorker=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileProtectChecker",{get:function(){return this.mFileProtectChecker},set:function(t){this.mFileProtectChecker=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"larkGateway",{get:function(){return this.mLarkGateway},set:function(t){this.mLarkGateway=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"webdidCheck",{get:function(){return this.mWebdidCheck},set:function(t){this.mWebdidCheck=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loginRestriction",{get:function(){return this.mLoginRestriction},set:function(t){this.mLoginRestriction=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dpopProtect",{get:function(){return this.mDpopProtect},set:function(t){this.mDpopProtect=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"report",{get:function(){return this.mReport},set:function(t){this.mReport=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"secSdk",{get:function(){return this.mSecSdk},set:function(t){this.mSecSdk=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"intranet",{get:function(){return this.mIntranet},set:function(t){this.mIntranet=t},enumerable:!1,configurable:!0}),t}())},5713:function(t,e,n){"use strict";n.d(e,{d:function(){return r}});var r="100000"},9466:function(t,e,n){"use strict";n.d(e,{V8:function(){return o}});var r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u},o=new(function(){function t(t){this.eventName=t,this.eventHandlers=[],this._window="undefined"!=typeof window?window:void 0,this.hookAdd(),this.hookRemove()}return t.prototype.addHandler=function(t){this.eventHandlers.push(t)},t.prototype.removeHandler=function(t){for(var e=this.eventHandlers.length-1;e>=0;e-=1)if(this.eventHandlers[e]===t)return void this.eventHandlers.splice(e,1)},t.prototype.removeAllHandlers=function(){var t=this._window;if(t)for(var e=this.eventHandlers.length-1;e>=0;e-=1)t.removeEventListener(this.eventName,this.eventHandlers[e])},t.prototype.hookAdd=function(){var t=this,e=this._window;if(e){var n=e.addEventListener;e.addEventListener=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var u=r(o||[],2),a=u[0],c=u[1];n.apply(e,o),a===t.eventName&&t.addHandler(c)}}},t.prototype.hookRemove=function(){var t=this,e=this._window;if(e){var n=e.removeEventListener;e.removeEventListener=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var u=r(o||[],2),a=u[0],c=u[1];n.apply(e,o),a===t.eventName&&t.removeHandler(c)}}},t}())("beforeunload")},2727:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var r=n(9892),o=n(2074),i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};var u,a=n(9466);!function(t){t.Admin="13"}(u||(u={}));var c=function(t){var e=t.securityWebDomain,n=t.urlParams,c=t.lscCode,s=t.lscDecision,l=t.appId,f=function(){window.onbeforeunload=null,null===a.V8||void 0===a.V8||a.V8.removeAllHandlers(),window.location.href="https://".concat(e,"/conditionalaccess/deny?").concat(function(t){var e,n;function r(t){return encodeURIComponent(t).replace(/%20/g,"+")}var o=function t(e,n){void 0===n&&(n="");var r={};return Object.keys(e).forEach((function(o){"object"==typeof e[o]&&null!==e[o]?Object.assign(r,t(e[o],n?"".concat(n,"[").concat(o,"]"):o)):r[n?"".concat(n,"[").concat(o,"]"):o]=e[o]})),r}(t),u=Object.keys(o),a="";try{for(var c=i(u),s=c.next();!s.done;s=c.next()){var l=s.value;a+="".concat(r(l),"=").concat(r(o[l]),"&")}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a.slice(0,-1)}(n))};"undefined"==typeof window||r.Ru||f();try{r.Ru&&(l===u.Admin&&f(),ShellAPI.app.ipc.sendTo(-1,o.ST.CONDITIONAL_ACCESS,{lscCode:c,lscDecision:s,appId:l}))}catch(t){}}},5982:function(t,e,n){"use strict";n.d(e,{De:function(){return a},OP:function(){return s},Uc:function(){return f},aM:function(){return p},j0:function(){return c},rK:function(){return l}});var r,o=n(3788),i=n(2074),u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a={LOAD_CONFIG_FAIL_DECISION:u(u({},i.BN),{type:i.Up.frontFallback,message:"load config fail"}),SHARE_READ_SWITCH_OFF_DECISION:u(u({},i.BN),{type:i.Up.settingsFallback,message:"share read off"}),DISABLE_POLICY_ENGINE_DECISION:u(u({},i.BN),{message:"static pointcuts policy polling off",type:i.Up.frontFastpass}),DISABLE_FILE_STRATEGY_DECISION:u(u({},i.BN),{message:"policy check action off",type:i.Up.settingsFallback}),DISABLE_FILE_STRATEGY_CLIENT:u(u({},i.BN),{message:"static pointcuts file policy check action off",type:i.Up.settingsFallback}),DISABLE_MINUTES:u(u({},i.BN),{message:"minutes file policy point off",type:i.Up.settingsFallback})},c={isFullUpdate:!1},s=((r={})[i.Up.pluginCalculate]=800,r[i.Up.backendCalculate]=700,r[i.Up.frontCalculate]=600,r[i.Up.settingsFallback]=500,r[i.Up.frontFastpass]=400,r[i.Up.cache]=300,r[i.Up.backendFallback]=200,r[i.Up.frontFallback]=100,r[i.Up.unknown]=0,r),l={effect:o.Qm.Deny,actions:[{name:o.Jg.NetworkStrict,params:{policyType:"FILE_PROTECT"}}]},f=4,p=2e3},3198:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var r=n(3031),o=n(1720),i=n(5958),u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},a=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},c=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},s=o.sI.retryInterval,l=o.sI.timeout;function f(t,e,n){var o=this,f=t.url,p=t.method,d=t.data,h=e||{},v=h.baseURL,y=h.headers,b=h.timeout,g=v?v+f:f,_=new AbortController,w=b?setTimeout((function(){return _.abort()}),b):-1,m=b?{signal:_.signal}:{};return(0,r.X_)((function(){return a(o,void 0,void 0,(function(){var t,e,n;return c(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,3,4]),[4,fetch(g,u({method:p,body:JSON.stringify(d),credentials:"include",headers:y},m))];case 1:return t=r.sent(),[3,4];case 2:return e=r.sent(),(0,i.M2)({error:e.message}),[3,4];case 3:return clearTimeout(w),[7];case 4:return 200!==t.status?[3,6]:[4,t.json()];case 5:return(n=r.sent()).data||function(t){(0,i.M2)(u({error:"request success, but no data available in response",type:"Error",funcName:"uploadErrorOfNoData"},t))}({url:g,response:n,args:d,headers:y}),[2,{success:!0,data:n.data}];case 6:return function(t){var e=t.status,n=t.statusText,r=t.args,o=t.url,u=t.headers;(0,i.M2)({error:"request server error",status:e,statusText:n,url:o,headers:u,type:"Error",funcName:"uploadErrorWithStatusCode",args:r})}({args:d,status:t.status,statusText:t.statusText,url:g,headers:y}),[2,{success:!1}]}}))}))}),{interval:(null==n?void 0:n.retryInterval)||s,timeout:(null==n?void 0:n.timeout)||l}).catch((function(t){return(0,i.M2)({error:null==t?void 0:t.message,args:d,url:g,isOnline:navigator.onLine}),{success:!1,error:t}}))}},9741:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16);function u(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}const a=[];for(let t=0;t<256;++t)a.push((t+256).toString(16).slice(1));function c(t,e=0){return(a[t[e+0]]+a[t[e+1]]+a[t[e+2]]+a[t[e+3]]+"-"+a[t[e+4]]+a[t[e+5]]+"-"+a[t[e+6]]+a[t[e+7]]+"-"+a[t[e+8]]+a[t[e+9]]+"-"+a[t[e+10]]+a[t[e+11]]+a[t[e+12]]+a[t[e+13]]+a[t[e+14]]+a[t[e+15]]).toLowerCase()}var s=function(t,e,n){if(r.randomUUID&&!e&&!t)return r.randomUUID();const o=(t=t||{}).random||(t.rng||u)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=o[t];return e}return c(o)}},9717:function(t,e,n){"use strict";n.d(e,{kP:function(){return o},x0:function(){return i}});let r=t=>crypto.getRandomValues(new Uint8Array(t)),o=(t,e=21)=>((t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*r*e/t.length);return(i=e)=>{let u="";for(;;){let e=n(o),a=o;for(;a--;)if(u+=t[e[a]&r]||"",u.length===i)return u}}})(t,e,r),i=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((t,e)=>t+=(e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_","")},5846:function(t,e,n){"use strict";var r=n(6063).Z.Symbol;e.Z=r},8607:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var r=n(5846),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,a=r.Z?r.Z.toStringTag:void 0;var c=function(t){var e=i.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var o=u.call(t);return r&&(e?t[a]=n:delete t[a]),o},s=Object.prototype.toString;var l=function(t){return s.call(t)},f=r.Z?r.Z.toStringTag:void 0;var p=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f&&f in Object(t)?c(t):l(t)}},9664:function(t,e){"use strict";var n="object"==typeof global&&global&&global.Object===Object&&global;e.Z=n},6063:function(t,e,n){"use strict";var r=n(9664),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.Z||o||Function("return this")();e.Z=i},7519:function(t,e){"use strict";var n=Array.isArray;e.Z=n},532:function(t,e){"use strict";e.Z=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},1941:function(t,e){"use strict";e.Z=function(t){return null!=t&&"object"==typeof t}},9782:function(t,e,n){"use strict";var r=n(8607),o=n(7519),i=n(1941);e.Z=function(t){return"string"==typeof t||!(0,o.Z)(t)&&(0,i.Z)(t)&&"[object String]"==(0,r.Z)(t)}},3901:function(t,e,n){"use strict";var r=n(8607),o=n(1941);e.Z=function(t){return"symbol"==typeof t||(0,o.Z)(t)&&"[object Symbol]"==(0,r.Z)(t)}},4353:function(t,e,n){"use strict";n.d(e,{Z:function(){return _}});var r=n(532),o=n(6063),i=function(){return o.Z.Date.now()},u=/\s/;var a=function(t){for(var e=t.length;e--&&u.test(t.charAt(e)););return e},c=/^\s+/;var s=function(t){return t?t.slice(0,a(t)+1).replace(c,""):t},l=n(3901),f=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,d=/^0o[0-7]+$/i,h=parseInt;var v=function(t){if("number"==typeof t)return t;if((0,l.Z)(t))return NaN;if((0,r.Z)(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=(0,r.Z)(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=s(t);var n=p.test(t);return n||d.test(t)?h(t.slice(2),n?2:8):f.test(t)?NaN:+t},y=Math.max,b=Math.min;var g=function(t,e,n){var o,u,a,c,s,l,f=0,p=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function g(e){var n=o,r=u;return o=u=void 0,f=e,c=t.apply(r,n)}function _(t){return f=t,s=setTimeout(m,e),p?g(t):c}function w(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-f>=a}function m(){var t=i();if(w(t))return E(t);s=setTimeout(m,function(t){var n=e-(t-l);return d?b(n,a-(t-f)):n}(t))}function E(t){return s=void 0,h&&o?g(t):(o=u=void 0,c)}function C(){var t=i(),n=w(t);if(o=arguments,u=this,l=t,n){if(void 0===s)return _(l);if(d)return clearTimeout(s),s=setTimeout(m,e),g(l)}return void 0===s&&(s=setTimeout(m,e)),c}return e=v(e)||0,(0,r.Z)(n)&&(p=!!n.leading,a=(d="maxWait"in n)?y(v(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h),C.cancel=function(){void 0!==s&&clearTimeout(s),f=0,o=l=u=s=void 0},C.flush=function(){return void 0===s?c:E(i())},C};var _=function(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return(0,r.Z)(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),g(t,e,{leading:o,maxWait:e,trailing:i})}}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,r),i.exports}r.m=e,r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,n){return r.f[n](t,e),e}),[]))},r.u=function(t){return({82:"login-restriction",178:"dpop-protect-web",219:"file-policy-workflow",303:"security-info",310:"logger",611:"lmp-sdk-report",750:"dpop-protect-mobile-webview",864:"dpop-protect-web-iframe",949:"file-policy-worker"}[t]||t)+".policy-sdk-6.1.1-canary.x4de6b19c3c.js"},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},r.l=function(e,n,o,i){if(t[e])t[e].push(n);else{var u,a;if(void 0!==o)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var l=c[s];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")=="__builtin_policy_sdk__:"+o){u=l;break}}u||(a=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.setAttribute("data-webpack","__builtin_policy_sdk__:"+o),u.src=e),t[e]=[n];var f=function(n,r){u.onerror=u.onload=null,clearTimeout(p);var o=t[e];if(delete t[e],u.parentNode&&u.parentNode.removeChild(u),o&&o.forEach((function(t){return t(r)})),n)return n(r)},p=setTimeout(function(t,e){if(e&&"timeout"===e.type){if(window.staticCDNErrorHandler&&window.tryToLoadBackupCdn){var n=Date.now();window.logCDNErrorEntries&&window.logCDNErrorEntries(i,"script",{first_fetch_duration:Date.now()-n}),staticCDNErrorHandler(u.src,"script"),tryToLoadBackupCdn(u.src,"script",!0,f)}}else f(t,e)}.bind(null,void 0,{type:"timeout",target:u}),a?12e4:3e4);if(u.onerror=f.bind(null,u.onerror),u.onload=f.bind(null,u.onload),window.staticCDNErrorHandler&&window.tryToLoadBackupCdn){var d=Date.now();u.onerror=function(){window.logCDNErrorEntries&&window.logCDNErrorEntries(i,"script",{first_fetch_duration:Date.now()-d}),staticCDNErrorHandler(u.src,"script"),tryToLoadBackupCdn(u.src,"script",!0,f)}}a&&document.head.appendChild(u)}},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.p=navigator.cdn_host ? navigator.cdn_host+"/lmp/scs/" : document.currentScript.src.substr(0, document.currentScript.src.lastIndexOf('/') + 1),function(){var t={179:0};r.f.j=function(e,n){var o=r.o(t,e)?t[e]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise((function(n,r){o=t[e]=[n,r]}));n.push(o[2]=i);var u=r.p+r.u(e),a=new Error;r.l(u,(function(n){if(r.o(t,e)&&(0!==(o=t[e])&&(t[e]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),u=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+i+": "+u+")",a.name="ChunkLoadError",a.type=i,a.request=u,o[1](a)}}),"chunk-"+e,e)}};var e=function(e,n){var o,i,u=n[0],a=n[1],c=n[2],s=0;if(u.some((function(e){return 0!==t[e]}))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);if(c)c(r)}for(e&&e(n);s<u.length;s++)i=u[s],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0},n=this.webpackChunk_builtin_policy_sdk_=this.webpackChunk_builtin_policy_sdk_||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var o={};!function(){"use strict";r.r(o),r.d(o,{ActionNameKey:function(){return X.Jg},DeterministicDecisionTypeEnum:function(){return i.Up},Effect:function(){return X.Qm},EntityDomain:function(){return ft.pW},EntityOperate:function(){return X.OW},EntityType:function(){return X.py},Environment:function(){return i.qA},FileSourceDomain:function(){return X.Su},PointKey:function(){return lt.MA},PolicyEvent:function(){return i.ST},PolicyPlugin:function(){return pt.W},PolicyType:function(){return i.Mi},Region:function(){return i.yp},default:function(){return Et},init:function(){return Ct},update:function(){return Ot}});var t=r(8617),e=r(3742),n=r(2463),i=r(2074),u=r(9208),a=r(5958),c=r(3545),s=r(2872);var l,f,p,d=function(){},h=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u},v=function(t){return new Promise((function(e,n){"undefined"==typeof document&&n(new Error("non-browser env"));var r=t.domain,o=t.path,i=t.backupDomains,u=t.retried;try{var a="https://".concat(r).concat(o),c=document.createElement("script");c.onload=function(){return e(!0)},c.onerror=function(){var t={domain:r,path:o};if(u)n(new Error("Resource load failed: ".concat(a)));else{if(Array.isArray(i)&&i.length>0){var c=h(i),s=c[0],l=c.slice(1);t.domain=s,t.backupDomains=l}else u||(t.retried=!0);v(t).then((function(){return e(!0)})).catch((function(t){return n(t)}))}},c.setAttribute("type","text/javascript"),c.setAttribute("src",a),document.head.appendChild(c)}catch(t){n(t)}}))},y=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},b=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},g=function(){return y(void 0,void 0,Promise,(function(){var t,n,r;return b(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e.u.getConfig()];case 1:return t=o.sent(),n=null==t?void 0:t.secSdkWeb,r="https://".concat(null==t?void 0:t.securityApiDomain,"/device/sdk/v5/r"),n&&(i=n.url,new Promise((function(t){if("undefined"!=typeof document)try{var e="https://".concat(i),n=document.createElement("script");n.onload=function(){return t(!0)},n.setAttribute("type","text/javascript"),n.setAttribute("src",e),document.head.appendChild(n)}catch(t){}}))).then((function(){window.__lark_sec_sdk.setEnv(r,n.token)})),[3,3];case 2:return o.sent(),[3,3];case 3:return[2]}var i}))}))},_=function(){return(_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},w=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},m=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},E=r(9892),C=r(4622),O=r(2442),S=function(){return(S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},I=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},k=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},P=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u},A=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},T=Math.random().toString().slice(2),R=function(){};if("undefined"!=typeof window&&E.rD!==E.OE.Web){var N,L=function(){var t,e,n,r,o,i,u;try{var a=null!==(e=null===(t=window.LarkWebViewJavaScriptBridge)||void 0===t?void 0:t.nativeCallBack)&&void 0!==e?e:R,c=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{if([E.OE.Android,E.OE.iOS].includes(E.rD)){var n=(null==t?void 0:t[0])||{},r=n.callbackID,o=n.data,i=n.callbackType;r===T&&"success"===i&&(p=o),a.apply(void 0,A([],P(t),!1))}if([E.OE.PC].includes(E.rD)){var u=P(t||[],1);o=u[0];p=o}}catch(t){}},s={apiName:"larkPrivateGatewayParams",data:{},callbackID:T};window.LarkWebViewJavaScriptBridge&&(window.LarkWebViewJavaScriptBridge.nativeCallBack=c),E.rD===E.OE.Android&&(null===(n=window.Lark_Bridge)||void 0===n||n.invokeNative(JSON.stringify(s))),E.rD===E.OE.iOS&&(null===(i=null===(o=null===(r=window.webkit)||void 0===r?void 0:r.messageHandlers)||void 0===o?void 0:o.invokeNative)||void 0===i||i.postMessage(S(S({},s),{data:{__v2__:!0}}))),E.rD===E.OE.PC&&(null===(u=window.ttJSBridge)||void 0===u||u.invoke(s.apiName,S(S({},s.data),{success:c})))}catch(t){}};if(!Object.prototype.hasOwnProperty.call(window,"LarkWebViewJavaScriptBridge")&&(null===(l=Object.getOwnPropertyDescriptor(window,"LarkWebViewJavaScriptBridge"))||void 0===l?void 0:l.configurable)&&[E.OE.Android,E.OE.iOS].includes(E.rD))Object.defineProperties(window,{LarkWebViewJavaScriptBridge:{get:function(){return N},set:function(t){var e;N=t,(null==t?void 0:t.nativeCallBack)&&(e=t.nativeCallBack),Object.defineProperties(t,{nativeCallBack:{get:function(){return e},set:function(t){e=t,L()},configurable:!0}})}}});else if(!Object.prototype.hasOwnProperty.call(window,"ttJSBridge")&&(null===(f=Object.getOwnPropertyDescriptor(window,"ttJSBridge"))||void 0===f?void 0:f.configurable)&&[E.OE.PC].includes(E.rD)){var D;Object.defineProperties(window,{ttJSBridge:{get:function(){return D},set:function(t){D=t,L()}}})}else(window.LarkWebViewJavaScriptBridge||window.ttJSBridge)&&L()}var x=function(){return I(void 0,void 0,void 0,(function(){var t,e,n;return k(this,(function(r){switch(r.label){case 0:if(E.rD===E.OE.Web)return[2,{}];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,ShellAPI.app.passport.getAuthInfo()];case 2:return t=r.sent().userId,[3,4];case 3:return r.sent(),[3,4];case 4:try{e=ShellAPI.app.environment.appVersion}catch(t){}return[2,S(S({},p),(n={},n[O.DH]=t||(null==p?void 0:p[O.DH]),n[O.qA]=e||(null==p?void 0:p[O.qA]),n))]}}))}))},M=r(4118),U="undefined"!=typeof window?window.fetch:function(){return Promise.resolve(new Response)},F=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},j=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function B(){try{return(0,M.ej)(O.cy)||""}catch(t){return""}}function H(t){var n;return F(this,void 0,Promise,(function(){var r,o;return j(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),r=void 0,t.tokenApiUrl?(r=t.tokenApiUrl,[3,3]):[3,1];case 1:return[4,e.u.getConfig()];case 2:if(!(o=null===(n=i.sent())||void 0===n?void 0:n.csrfApiDomain))return[2,""];r="https://".concat(o,"/lgw/csrf_token"),i.label=3;case 3:return r?[4,U(r,{credentials:"include"})]:[2,""];case 4:return i.sent(),[2,(0,M.ej)(O.cy)];case 5:return i.sent(),[2,""];case 6:return[2]}}))}))}var G,W=(G=function(t,e){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}G(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),q=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},V=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},K=function(t){function n(n){var r=t.call(this)||this;return r.csrfConfig={},r.request=function(t){return q(r,void 0,Promise,(function(){return V(this,(function(n){switch(n.label){case 0:return[4,this.doNotIntercept(t.url.toString())];case 1:return n.sent()?[2,!0]:(t.setHeader(O._E,encodeURIComponent(E.rD)),t.setHeader(O.eM,encodeURIComponent(E.oU)),e.u.options.appId&&t.setHeader(O.UA,encodeURIComponent(e.u.options.appId)),[4,this.setDynamicParams(t)]);case 2:return n.sent(),[2,!0]}}))}))},"undefined"!=typeof window&&(window.lgw_sdk_hooked=!0),r.csrfConfig=(null==n?void 0:n.csrf)||{},r}return W(n,t),n.prototype.setDynamicParams=function(t){return q(this,void 0,void 0,(function(){var e,n,r,o,i;return V(this,(function(u){switch(u.label){case 0:return[4,x()];case 1:return e=u.sent(),[O.qA,O.Rg,O.o7,O.h7,O.md,O.DH,O.xH].forEach((function(n){(null==e?void 0:e[n])&&t.setHeader(n,encodeURIComponent(e[n]))})),n=new URL(t.url,window.location.origin).searchParams.toString().slice(1),"undefined"!=typeof window&&window.__lark_sec_sdk?(r={query:n,body:t.body},[4,window.__lark_sec_sdk.signRequest(r)]):[3,3];case 2:(o=u.sent())&&t.setHeader(O.T9,o),u.label=3;case 3:return this.csrfConfig.enable?(this.getCsrfTokenPromise||(this.getCsrfTokenPromise=function(t){return F(this,void 0,Promise,(function(){var e;return j(this,(function(n){switch(n.label){case 0:return(e=B())?[3,2]:[4,H(t)];case 1:e=n.sent(),n.label=2;case 2:return[2,e]}}))}))}(this.csrfConfig)),[4,this.getCsrfTokenPromise]):[3,5];case 4:i=u.sent(),this.getCsrfTokenPromise=void 0,t.setHeader(O.sh,i),u.label=5;case 5:return[2]}}))}))},n.prototype.doNotIntercept=function(t){var n;return q(this,void 0,Promise,(function(){var r;return V(this,(function(o){switch(o.label){case 0:return E.oU===E.wh.iOS&&E.Ru&&E.j_&&!/^(https:)?\/\//.test(t)?[2,!0]:[4,e.u.getConfig()];case 1:return(r=o.sent())&&(null===(n=null==r?void 0:r.featureSwitch)||void 0===n?void 0:n.lgw_sdk_web)?[2,!1]:[2,!0]}}))}))},n.key="LarkGatewayInterceptor",n}(C.n),Y={request:r(3198).Z,baseURL:""};Y.genBaseURL=function(t){return"function"==typeof Y.baseURL?Y.baseURL(t):Y.baseURL+t};var J,Z=r(4821);!function(t){t[t.Inactive=1]="Inactive",t[t.Active=2]="Active"}(J||(J={}));var Q,X=r(3788),z=r(4353),$=r(5713),tt=r(2727),et=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nt=function(t,e,n,r){var o,i=arguments.length,u=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(u=(i<3?o(u):i>3?o(e,n,u):o(e,n))||u);return i>3&&u&&Object.defineProperty(e,n,u),u},rt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},ot=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},it=function(t){function n(){var n,r=this;return(r=t.call(this)||this).pollingTokenFailures=0,r.addrCalled=!1,r.request=function(){return rt(r,void 0,Promise,(function(){return ot(this,(function(t){switch(t.label){case 0:return[4,this.getTerminalJwt()];case 1:return t.sent()||(0,M.kT)({key:"sec_terminal_token",domain:e.u.options.baseDomain}),[2,!0]}}))}))},r.response=function(t){return rt(r,void 0,void 0,(function(){var n,r,o,i,u,a,c,s,l,f,p,d,h;return ot(this,(function(v){switch(v.label){case 0:return(n=t.getHeader(O.pX))&&this.prevIp&&n!==this.prevIp&&!document.hidden&&(this.refreshToken(),this.prevIp=n),!this.prevIp&&n&&(this.prevIp=n),r=t.getHeader($.d),o=t.getHeader(O.sb),i=(0,O.JT)(o).actions,u=null===(d=i[0])||void 0===d?void 0:d.name,[X.Jg.Intranet].includes(u)?[4,e.u.getConfig()]:[3,2];case 1:return a=v.sent(),c=null==a?void 0:a.securityWebDomain,s=e.u.options,l=s.language,f=s.passportId,p={appid:f,language:l,redirectUrl:(null===(h=null===window||void 0===window?void 0:window.location)||void 0===h?void 0:h.href)||"",actions:i},(0,tt.Z)({securityWebDomain:c,urlParams:p,lscCode:r,lscDecision:o,appId:f}),[2,!1];case 2:return[2,!0]}}))}))},setInterval((function(){r.getCrossTabTimeIntervalAllowed()&&r.refreshToken()}),3e5),null===(n=window.addEventListener)||void 0===n||n.call(window,"online",(function(){return r.refreshToken()})),r}var r,o;return et(n,t),n.prototype.refreshToken=function(){return rt(this,void 0,void 0,(function(){return ot(this,(function(t){switch(t.label){case 0:return[4,this.pollTerminalJwt()];case 1:return t.sent()||((0,M.kT)({key:"sec_terminal_token",domain:e.u.options.baseDomain}),this.pollingTokenFailures=this.pollingTokenFailures+1),this.pollingTokenFailures%3==0&&this.pollingTokenFailures>0?[4,this.getProxyAddr(!1)]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.getCrossTabTimeIntervalAllowed=function(){if("undefined"!=typeof localStorage){var t=Number(null===localStorage||void 0===localStorage?void 0:localStorage.getItem("__TERMINAL_TOKEN_TIME_STORAGE")),e=(new Date).valueOf();if(isNaN(t)||e-t>3e5||e<t)return null===localStorage||void 0===localStorage||localStorage.setItem("__TERMINAL_TOKEN_TIME_STORAGE","".concat(e-1e3)),!0}return!1},n.prototype.getProxyAddr=function(t){return void 0===t&&(t=!0),rt(this,void 0,void 0,(function(){var e,n;return ot(this,(function(r){switch(r.label){case 0:if(t){if(this.proxyAddr)return[2,this.proxyAddr];if(e=null===localStorage||void 0===localStorage?void 0:localStorage.getItem("__REVERSE_PROXY_SERVER_ADDR"))return[2,e];if(this.addrCalled)return[2,""]}return[4,this.fetchProxyAddr()];case 1:return n=r.sent(),this.addrCalled=!0,[2,n]}}))}))},n.prototype.fetchProxyAddr=function(){return rt(this,void 0,Promise,(function(){var t,e;return ot(this,(function(n){switch(n.label){case 0:return[4,(0,Z.R$)()];case 1:return t=n.sent().data,e=t.address,t.status!==J.Active?[2,""]:(this.proxyAddr=e,null===localStorage||void 0===localStorage||localStorage.setItem("__REVERSE_PROXY_SERVER_ADDR",e),[2,e])}}))}))},n.prototype.pollTerminalJwt=function(){return rt(this,void 0,Promise,(function(){var t;return ot(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,this.getProxyAddr()];case 1:return t=e.sent(),[4,this.fetchTerminalJwt(t)];case 2:return[2,e.sent()];case 3:return e.sent(),[2,""];case 4:return[2]}}))}))},n.prototype.getTerminalJwt=function(){return rt(this,void 0,Promise,(function(){var t=this;return ot(this,(function(e){if(this.tokenPromise)return[2,this.tokenPromise];try{return this.tokenPromise=this.pollTerminalJwt().catch((function(){return t.tokenPromise=null})),[2,this.tokenPromise]}catch(t){return this.tokenPromise=null,[2,""]}return[2]}))}))},n.prototype.fetchTerminalJwt=function(t){var n;return rt(this,void 0,Promise,(function(){var r;return ot(this,(function(o){switch(o.label){case 0:return t?[4,(i={baseURL:"https://".concat(t),timeout:2e3},u=Y.genBaseURL("/lark/security/internal/terminal/intranet/token"),Y.request({url:u,method:"GET"},i))]:[2,""];case 1:return r=o.sent(),(null===(n=r.data)||void 0===n?void 0:n.token)?((0,M.d8)({key:"sec_terminal_token",value:r.data.token,domain:e.u.options.baseDomain,expires:new Date(Date.now()+36e4).toUTCString()}),[2,r.data.token]):[2,""]}var i,u}))}))},n.key="IntranetDetectionInterceptor",nt([(r=1e4,void 0===o&&(o={}),function(t,e,n){return{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,e,{configurable:!0,enumerable:n.enumerable,value:(0,z.Z)(n.value,r,o)}),this[e]}}})],n.prototype,"refreshToken",null),n}(C.n),ut=r(5982),at=r(7348),ct=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},st=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},lt=r(6969),ft=r(3583),pt=r(2106),dt=function(){return(dt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},ht=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function u(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,a)}c((r=r.apply(t,e||[])).next())}))},vt=function(t,e){var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(u=0)),u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=u.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=e.call(t,u)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},yt={getPluginInstByName:function(e){return t.E.getPluginByName(e)},registerPlugin:function(e,n){return t.E.registerPlugin(e,n)}},bt={checkAction:function(t){return ht(this,void 0,Promise,(function(){return vt(this,(function(e){switch(e.label){case 0:return[4,mt.initFilePolicyOld()];case 1:return e.sent(),[2,(new s._.policyWorker).checkAction(t)]}}))}))},checkActionSync:function(t){return mt.initFilePolicyOld(),(new s._.policyWorker).checkActionSync(t)},preloadDecisions:function(t){return ht(this,void 0,Promise,(function(){return vt(this,(function(e){switch(e.label){case 0:return[4,mt.initFilePolicyOld()];case 1:return e.sent(),[2,new s._.policyWorker("batch").preloadDecisions(t)]}}))}))},isFastPass:function(t){return(new s._.policyWorker).isFastPass(t)}},gt={checkActionRemote:function(t){return ht(this,void 0,Promise,(function(){return vt(this,(function(e){switch(e.label){case 0:return[4,mt.initFilePolicy()];case 1:return e.sent(),[2,(new s._.fileProtectChecker).checkActionRemote(t)]}}))}))},checkAction:function(t){return ht(this,void 0,Promise,(function(){return vt(this,(function(e){switch(e.label){case 0:return[4,mt.initFilePolicy()];case 1:return e.sent(),[2,(new s._.fileProtectChecker).checkAction(t)]}}))}))},checkActionSync:function(t){return mt.initFilePolicy(),(new s._.fileProtectChecker).checkActionSync(t)},preloadDecisions:function(t){return ht(this,void 0,Promise,(function(){return vt(this,(function(e){switch(e.label){case 0:return[4,mt.initFilePolicy()];case 1:return e.sent(),[2,(new s._.fileProtectChecker).preloadDecisions(t)]}}))}))},isFastPass:function(t){return(new s._.fileProtectChecker).isFastPass(t)},registerActions:function(t){return ht(this,void 0,void 0,(function(){return vt(this,(function(e){switch(e.label){case 0:return[4,mt.initFilePolicy()];case 1:return e.sent(),s._.fileProtectChecker.registerActions(t),[2]}}))}))},loadEntity:function(t){return ht(this,void 0,void 0,(function(){return vt(this,(function(e){switch(e.label){case 0:return[4,mt.initFilePolicy()];case 1:return e.sent(),[2,(new s._.fileProtectChecker).loadEntity(t)]}}))}))},unloadEntities:function(t){return ht(this,void 0,void 0,(function(){return vt(this,(function(e){switch(e.label){case 0:return[4,mt.initFilePolicy()];case 1:return e.sent(),[2,(new s._.fileProtectChecker).unloadEntities(t)]}}))}))},unloadAllEntities:function(t){return ht(this,void 0,void 0,(function(){return vt(this,(function(e){switch(e.label){case 0:return[4,mt.initFilePolicy()];case 1:return e.sent(),[2,(new s._.fileProtectChecker).unloadAllEntities(t)]}}))}))}},_t={getConfig:function(){return ht(void 0,void 0,void 0,(function(){return vt(this,(function(t){switch(t.label){case 0:return[4,e.u.getConfig()];case 1:return[2,t.sent()]}}))}))}},wt={onConditionalAccessDenial:function(t){return n.u.on(i.ST.CONDITIONAL_ACCESS,t)},onFilePolicyDenial:function(t){return n.u.on(i.ST.FILE_OPERATION_DENIAL,t)},onPolicyUpdate:function(t){return n.u.on(i.ST.POLICY_UPDATE,t)},onPointcutUpdate:function(t){return n.u.on(i.ST.POINTCUT_UPDATE,t)},onWorkflowLog:function(t){return n.u.on(i.ST.WORKFLOW_LOG,t)},onPreloadDecisionChange:function(t){return n.u.on(i.ST.PRELOAD_DECISION_UPDATE,(function(e){return t(dt(dt({},e),{getTaskIdByInput:function(t){return(0,c.EE)(t)}}))}))},onDecisionChange:function(t){return n.u.on(i.ST.DECISION_UPDATE,(function(e){return t(dt(dt({},e),{getTaskIdByInput:function(t){return(0,c.EE)(t)}}))}))}},mt=dt(dt({init:function(t){var n=e.u.initOptions(t);return n&&((0,u.pF)(),e.u.queryInfos()),e.u.setupTimers(),this.initModules(t.modules),n},initModules:function(t){var n=t||{},o=n.larkGateway,i=n.filePolicy,a=n.webdidCheck,c=n.report,l=n.loginRestriction,f=n.secSdk,p=n.bdmsSdk,h=n.filePolicyOld,y=n.dpopProtect,b=n.intranet,E=n.logger;y&&this.initDPoPProtect(y),o&&this.initLarkGateway(),i&&this.initFilePolicy(),!i&&h&&this.initFilePolicyOld(),b&&this.initIntranet(),a&&(s._.webdidCheck||(s._.webdidCheck=!0,(0,u.m5)(),(0,u.YC)())),c&&(s._.report||(s._.report=!0,this.initReporter())),l&&(s._.loginRestriction||(s._.loginRestriction=!0,(0,u.BD)())),p&&(s._.secSdk||(s._.secSdk=!0,w(void 0,void 0,Promise,(function(){var t,n,r,o,i,u,a,c,s,l,f;return m(this,(function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,e.u.getConfig()];case 1:return t=p.sent(),n=null==t?void 0:t.secSdkWeb,r=null==t?void 0:t.bdmsSdkApiDomain,o=null!==(f=null==n?void 0:n.bdmsConf)&&void 0!==f?f:{},i=o.aid,u=o.domain,a=o.path,c=o.backupDomains,s=o.enable,l=o.options,a&&s?v({domain:u,path:a,backupDomains:c}).then((function(){var t=_(_({},l),{aid:null!=i?i:1664,rpU:r?"https://".concat(r):void 0});window.bdms.init(t)})).catch(d):g(),[3,3];case 2:return p.sent(),d(),[3,3];case 3:return[2]}}))})))),f&&(s._.secSdk||(s._.secSdk=!0,g())),E&&!s._.logger&&e.u.options.userId&&(s._.logger=!0,function(t,e){ct(void 0,void 0,void 0,(function(){var n,o,i,u,a,c,s,l,f,p,d,h,v,y,b,g;return st(this,(function(_){switch(_.label){case 0:return n=e.getConfigSync(),(null===(y=null==n?void 0:n.featureSwitch)||void 0===y?void 0:y.enable_logifier)?(o=t.exporter,i=t.packer,[4,Promise.all([r.e(886),r.e(310)]).then(r.bind(r,6726))]):[2];case 1:return u=_.sent(),a=u.TracerProvider,c=u.BatchSpanProcessor,[4,Promise.all([r.e(886),r.e(310)]).then(r.bind(r,9143))];case 2:return s=_.sent().Logifier,l=e.options.userId,f=(null===(b=null==n?void 0:n.featureParams)||void 0===b?void 0:b.max_record_count)||1e3,p=(null===(g=null==n?void 0:n.featureParams)||void 0===g?void 0:g.schedule_duration_ms)||1e4,d=new a,h=new c(new o({dbName:"policy-sdk-log",storeName:l,config:{separateStoreByDate:!0,maxStoreCount:7,maxRecordCount:f}}),{scheduleDurationMs:p}),d.addSpanProcessor(h),d.register(),i?(v=new i({dbName:"policy-sdk-log",storeName:l}),new s({logifierUrlBase:"https://".concat(e.options.settingDomain),logPacker:v,filenamePattern:"lark_security",appId:"feishu"===e.options.brand?"592346":"592347",deviceId:l}).startPoll("lark_security_".concat(l),"9BB6JY32EHQA8MM98R8D"),[2]):[2]}}))}))}(E,e.u))},initReporter:function(){return ht(this,void 0,void 0,(function(){var t;return vt(this,(function(n){switch(n.label){case 0:return[4,e.u.getConfig()];case 1:return t=n.sent(),(0,a.Ty)(e.u.options,null==t?void 0:t.domains),[2]}}))}))},initFilePolicyOld:function(){var t;return ht(this,void 0,void 0,(function(){var e,o,a;return vt(this,(function(c){switch(c.label){case 0:return s._.policyWorker?[2]:s._.fileProtectChecker?(s._.policyWorker=s._.fileProtectChecker,[2]):[4,Promise.all([r.e(126),r.e(216),r.e(949)]).then(r.bind(r,1643))];case 1:return e=c.sent().PolicyWorker,[4,Promise.all([r.e(126),r.e(216),r.e(949)]).then(r.bind(r,5644))];case 2:return o=c.sent().FilePolicyInterceptor,s._.policyWorker=e,n.u.on(i.GE.NETWORK_ONLINE,(function(){(new e).autoCheckStaticActions("network")})),n.u.on(i.GE.SDK_COLD_BOOST,(function(){at.j.isFullUpdate=!0,(new e).autoCheckStaticActions("init")})),n.u.on(i.GE.STATIC_POINTCUT_POLLING,(function(){at.j.isFullUpdate=!0,(new e).autoCheckStaticActions("polling")})),n.u.on(i.GE.BACK_TO_FRONT,(function(){at.j.isFullUpdate=!0,(new e).autoCheckStaticActions("backToFront")})),n.u.on(i.GE.TENANT_SWITCH,(function(){at.j.isFullUpdate=!0,(new e).autoCheckStaticActions("tenantSwitch")})),a=new o,null===(t=(0,u.UE)())||void 0===t||t.appendInterceptors([],[a]),[2]}}))}))},initFilePolicy:function(){var t;return ht(this,void 0,void 0,(function(){var e,o,a;return vt(this,(function(c){switch(c.label){case 0:return s._.fileProtectChecker?[2]:s._.policyWorker?(s._.fileProtectChecker=s._.policyWorker,[2]):[4,Promise.all([r.e(126),r.e(216),r.e(886),r.e(219)]).then(r.bind(r,7285))];case 1:return e=c.sent().FileProtectChecker,[4,Promise.all([r.e(126),r.e(216),r.e(886),r.e(219)]).then(r.bind(r,5644))];case 2:return o=c.sent().FilePolicyInterceptor,s._.fileProtectChecker=e,e.init(),n.u.on(i.GE.NETWORK_ONLINE,(function(){(new e).autoCheckActions(i.GE.NETWORK_ONLINE)})),n.u.on(i.GE.SDK_COLD_BOOST,(function(){ut.j0.isFullUpdate=!0,(new e).autoCheckActions(i.GE.SDK_COLD_BOOST)})),n.u.on(i.GE.STATIC_POINTCUT_POLLING,(function(){ut.j0.isFullUpdate=!0,(new e).autoCheckActions(i.GE.STATIC_POINTCUT_POLLING)})),n.u.on(i.GE.BACK_TO_FRONT,(function(){ut.j0.isFullUpdate=!0,(new e).autoCheckActions(i.GE.BACK_TO_FRONT)})),n.u.on(i.GE.TENANT_SWITCH,(function(){ut.j0.isFullUpdate=!0,(new e).autoCheckActions(i.GE.TENANT_SWITCH)})),function(t){var e;try{ShellAPI.app.ipc.on(i.GE.DEVICE_AUTH_STATUS_CHANGE,t)}catch(t){}null===(e=window.addEventListener)||void 0===e||e.call(window,"message",(function(e){"SCS_SECURITY_CLOSE_DIALOG"===e.data&&t()}),!1)}((function(){ut.j0.isFullUpdate=!0,(new e).autoCheckActions(i.GE.DEVICE_AUTH_STATUS_CHANGE)})),a=new o,null===(t=(0,u.UE)())||void 0===t||t.appendInterceptors([],[a]),[2]}}))}))},initLarkGateway:function(t){var e;if(!s._.larkGateway){s._.larkGateway=!0;var n=new K(t);null===(e=(0,u.UE)())||void 0===e||e.appendInterceptors([n])}},initIntranet:function(){var t;if(!s._.intranet){s._.intranet=!0;var e=new it;null===(t=(0,u.UE)())||void 0===t||t.appendInterceptors([e],[e])}},initDPoPProtect:function(t){var e,n,o;return ht(this,void 0,void 0,(function(){var i,a,c,l;return vt(this,(function(f){switch(f.label){case 0:return s._.dpopProtect?[2]:"web-same-origin"!==t.enableEnv?[3,2]:[4,Promise.all([r.e(126),r.e(95),r.e(178)]).then(r.bind(r,7629))];case 1:return i=f.sent().DPoPInterceptorWeb,s._.dpopProtect=!0,l=new i,null===(e=(0,u.UE)())||void 0===e||e.appendInterceptors([l],[l]),[3,6];case 2:return"web-cross-origin"!==t.enableEnv?[3,4]:[4,r.e(864).then(r.bind(r,6657))];case 3:return a=f.sent().DPoPInterceptorWebIframe,s._.dpopProtect=!0,l=new a,null===(n=(0,u.UE)())||void 0===n||n.appendInterceptors([l],[l]),[3,6];case 4:return"mobileWebview"!==t.enableEnv?[3,6]:[4,Promise.all([r.e(126),r.e(95),r.e(750)]).then(r.bind(r,7366))];case 5:c=f.sent().DPoPInterceptorMobileWebview,s._.dpopProtect=!0,l=new c,null===(o=(0,u.UE)())||void 0===o||o.appendInterceptors([l],[l]),f.label=6;case 6:return[2]}}))}))},update:function(n){var r=n.options,o=void 0===r?{}:r;e.u.setOptions(o),t.E.updateProps(n)}},yt),{pluginManager:yt,fileProtectChecker:gt,policyWorker:bt,events:wt,pap:_t}),Et=(null===(Q=window.__builtin_policy_sdk__)||void 0===Q?void 0:Q.default)||mt,Ct=mt.init,Ot=mt.update}(),__builtin_policy_sdk__=o}();